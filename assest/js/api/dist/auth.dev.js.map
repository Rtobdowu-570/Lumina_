{"version":3,"sources":["auth.js"],"names":["alertMessage","message","toast","document","createElement","className","textContent","body","appendChild","setTimeout","remove","login","email","getElementById","value","password","pb","collection","authWithPassword","then","window","location","href","error","signup","firstName","lastName","passwordConfirm","name","signupData","length","create","loginForm","signupForm","showSignup","showLogin","addEventListener","e","preventDefault","classList","add","loginButton","signupButton"],"mappings":"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","sourcesContent":["import  { pb } from './pocketbase.js';\n\nfunction alertMessage(message) {\n    const toast = document.createElement(\"div\");\n    toast.className = \"toast\";\n    toast.textContent = message;\n    document.body.appendChild(toast);\n    setTimeout(() => {\n    toast.remove();\n    }, 2000);\n}\n\nfunction login() {\n    const email = document.getElementById('loginEmail').value;\n    const password = document.getElementById('loginPassword').value;\n    pb.collection('users').authWithPassword(email, password).then(() => {\n        alertMessage('Login successful');\n        window.location.href = '/products.html';\n    }).catch((error) => {\n        alertMessage(error.message);\n    });\n}\n\nasync function signup() {\n    const firstName = document.getElementById('firstName').value;\n    const lastName = document.getElementById('lastName').value;\n    const email = document.getElementById('signupEmail').value;\n    const password = document.getElementById('signupPassword').value;\n    const passwordConfirm = document.getElementById('confirmPassword').value;\n    const name = `${firstName} ${lastName}`;\n\n    const signupData = {\n        \"email\": email,\n        \"emailVisibility\": true,\n        \"name\": name,\n        \"password\": password,\n        \"passwordConfirm\": passwordConfirm\n    }\n\n    if(!email || !password || !passwordConfirm) {\n        alertMessage('Please fill in all fields');\n        return;\n    }\n\n    if (password.length < 8) {\n        alertMessage('Password must be at least 8 characters');\n        return;\n    }\n\n    if (password !== passwordConfirm) {\n        alertMessage('Passwords do not match');\n        return;\n    }\n\n    pb.collection('users').create({ signupData }).then(() => {\n        alertMessage('Signup successful');\n        window.location.href = '/products.html';\n    }).catch((error) => {\n        alertMessage(error.message);\n    });\n}\n\n\n// Event Listeners\n        const loginForm = document.getElementById('loginForm');\n        const signupForm = document.getElementById('signupForm');\n        const showSignup = document.getElementById('showSignup');\n        const showLogin = document.getElementById('showLogin');\n\n        showSignup.addEventListener('click', (e) => {\n            e.preventDefault();\n            loginForm.classList.remove('active');\n            signupForm.classList.add('active');\n        });\n\n        showLogin.addEventListener('click', (e) => {\n            e.preventDefault();\n            signupForm.classList.remove('active');\n            loginForm.classList.add('active');\n        });\n\n        const loginButton = document.getElementById('loginBtn');\n        loginButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            login();\n        });\n\n        const signupButton = document.getElementById('signupBtn');\n        signupButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            signup();\n        });\n"],"file":"auth.dev.js"}