{"version":3,"sources":["auth.js"],"names":["_pocketbase","require","alertMessage","message","toast","document","createElement","className","appendChild","textContent","remove","setTimeout","login","email","getElementById","value","pb","password","then","window","location","href","error","signup","firstName","lastName","passwordConfirm","name","signupData","regeneratorRuntime","async","_context","prev","next","concat","abrupt","length","collection","create","stop","loginForm","signupForm","showSignup","showLogin","e","preventDefault","classList","add","addEventListener","loginButton","signupButton"],"mappings":"aAAA,IAAAA,YAAAC,QAAA,mBAAA,SAAAC,aAAAC,GAGI,IAAMC,EAAQC,SAASC,cAAc,OADzCF,EAASF,UAAaC,QAClBC,EAAMA,YAAiBE,EACvBF,SAAMG,KAANC,YAAAJ,GACAA,WAAMK,WACNJ,EAAQK,UACRC,KAGH,SAAAC,QAGG,IAAMC,EAAQR,SAASS,eAAe,cAAcC,MAD/CH,EAAQP,SAAAS,eAAA,iBAAAC,MACbC,YAAAA,GAAMH,WAAQR,SAASS,iBAAeD,EAAxBI,GAAdC,KAAA,WACMD,aAAWZ,oBAGbc,OAAOC,SAASC,KAAO,mBAJ3B,MAEAL,SAAAA,GACId,aAAaoB,EAAAnB,WAIhB,SALDoB,SAKC,IAAAC,EAAAC,EAAAZ,EAAAI,EAAAS,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,GACJT,EAAAnB,SAAAS,eAAA,aAAAC,MAISU,EAAWpB,SAASS,eAAe,YAAYC,MAF1CQ,EAAflB,SAAAS,eAAA,eAAAC,MAAAE,EAAAZ,SAAAS,eAAA,kBAAAC,MAAAW,EAAArB,SAAAS,eAAA,mBAAAC,MAAAY,EAHK,GAAAO,OAGLV,EAHK,KAAAU,OAGLT,GAAAG,EAAA,CACUJ,MAAAA,EACAC,iBAAWpB,EACXQ,KAHVc,EAIUV,SAJVA,EAKUS,gBALVA,GASQb,GAAAI,GADeS,EAXlB,CAAAK,EAAAE,KAAA,GAAA,MAAA,OAaG/B,aAAA,6BAbH6B,EAAAI,OAAA,UAAA,KAAA,GAAA,GAWkBlB,EARvBmB,OAAA,EAHK,OAyBGlC,aAAa,0CAzBhB6B,EAAAI,OAAA,UAAAJ,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAA,GAGLhB,IAAAS,EAHK,OA8BGxB,aAAa,0BA9BhB6B,EAAAI,OAAA,UAAAJ,EAAAE,KAAA,GAAA,MAAA,KAAA,GAGLjB,YAAAA,GAAAqB,WAAA,SAAAC,OAAA,CAAAV,WAAAA,IAAAV,KAAA,WAAAhB,aAqBQe,qBArBRE,OAAAC,SAAAC,KAAA,mBAAA,MAAA,SAAAC,GAAApB,aAAAoB,EAAAnB,WAHK,KAAA,GAAA,IAAA,MAAA,OAAA4B,EAAAQ,UAGL,IAAAC,UA0BgBnC,SAAKqB,eA1BrB,aAAAe,WAAApC,SAAAS,eAAA,cAAA4B,WAAArC,SAAAS,eAAA,cAAA6B,UAAAtC,SAAAS,eAAA,aA2BQZ,WAAAA,iBAAa,QAAA,SAAA0C,GA3BrBA,EAAAC,iBAgDYL,UAAUM,UAAUpC,OAAO,UAhDvC+B,WAAAK,UAAAC,IAAA,YA+BkCJ,UAAqBK,iBAAM,QAAA,SAAAJ,GACrD1C,EAAAA,iBACAiB,WAAOC,UAAPV,OAAuB,UAF3B8B,UAGSM,UAACxB,IAAAA,YAwBN,IAAM2B,YAAc5C,SAASS,eAAe,YA1DpDmC,YAAAD,iBAAA,QAAA,SAAAJ,GAAAA,EAAAC,iBAAAjC,UAAA,IAAAsC,aAAA7C,SAAAS,eAAA,aAwCAoC,aAAAF,iBAAA,QAAA,SAAAJ,GA0BYA,EAAEC,iBACFtB","file":"auth.min.js","sourcesContent":["import  { pb } from './pocketbase.js';\n\nfunction alertMessage(message) {\n    const toast = document.createElement(\"div\");\n    toast.className = \"toast\";\n    toast.textContent = message;\n    document.body.appendChild(toast);\n    setTimeout(() => {\n    toast.remove();\n    }, 2000);\n}\n\nfunction login() {\n    const email = document.getElementById('loginEmail').value;\n    const password = document.getElementById('loginPassword').value;\n    pb.collection('users').authWithPassword(email, password).then(() => {\n        alertMessage('Login successful');\n        window.location.href = '/products.html';\n    }).catch((error) => {\n        alertMessage(error.message);\n    });\n}\n\nasync function signup() {\n    const firstName = document.getElementById('firstName').value;\n    const lastName = document.getElementById('lastName').value;\n    const email = document.getElementById('signupEmail').value;\n    const password = document.getElementById('signupPassword').value;\n    const passwordConfirm = document.getElementById('confirmPassword').value;\n    const name = `${firstName} ${lastName}`;\n\n    const signupData = {\n        \"email\": email,\n        \"emailVisibility\": true,\n        \"name\": name,\n        \"password\": password,\n        \"passwordConfirm\": passwordConfirm\n    }\n\n    if(!email || !password || !passwordConfirm) {\n        alertMessage('Please fill in all fields');\n        return;\n    }\n\n    if (password.length < 8) {\n        alertMessage('Password must be at least 8 characters');\n        return;\n    }\n\n    if (password !== passwordConfirm) {\n        alertMessage('Passwords do not match');\n        return;\n    }\n\n    pb.collection('users').create({ signupData }).then(() => {\n        alertMessage('Signup successful');\n        window.location.href = '/products.html';\n    }).catch((error) => {\n        alertMessage(error.message);\n    });\n}\n\n\n// Event Listeners\n        const loginForm = document.getElementById('loginForm');\n        const signupForm = document.getElementById('signupForm');\n        const showSignup = document.getElementById('showSignup');\n        const showLogin = document.getElementById('showLogin');\n\n        showSignup.addEventListener('click', (e) => {\n            e.preventDefault();\n            loginForm.classList.remove('active');\n            signupForm.classList.add('active');\n        });\n\n        showLogin.addEventListener('click', (e) => {\n            e.preventDefault();\n            signupForm.classList.remove('active');\n            loginForm.classList.add('active');\n        });\n\n        const loginButton = document.getElementById('loginBtn');\n        loginButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            login();\n        });\n\n        const signupButton = document.getElementById('signupBtn');\n        signupButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            signup();\n        });\n"]}