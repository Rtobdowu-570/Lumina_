"use strict";var _pocketbase=require("./pocketbase.js");function alertMessage(e){var t=document.createElement("div");t.className="toast",t.textContent=e,document.body.appendChild(t),setTimeout(function(){t.remove()},2e3)}function login(){var e=document.getElementById("loginEmail").value,t=document.getElementById("loginPassword").value;_pocketbase.pb.collection("users").authWithPassword(e,t).then(function(){alertMessage("Login successful"),window.location.href="/products.html"}).catch(function(e){alertMessage(e.message)})}function signup(){var t,n,s,a,o,i,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("firstName").value,n=document.getElementById("lastName").value,s=document.getElementById("signupEmail").value,a=document.getElementById("signupPassword").value,o=document.getElementById("confirmPassword").value,i="".concat(t," ").concat(n),r={email:s,emailVisibility:!0,name:i,password:a,passwordConfirm:o},s&&a&&o){e.next=10;break}return alertMessage("Please fill in all fields"),e.abrupt("return");case 10:if(a.length<8)return alertMessage("Password must be at least 8 characters"),e.abrupt("return");e.next=13;break;case 13:if(a!==o)return alertMessage("Passwords do not match"),e.abrupt("return");e.next=16;break;case 16:_pocketbase.pb.collection("users").create({signupData:r}).then(function(){alertMessage("Signup successful"),window.location.href="/products.html"}).catch(function(e){alertMessage(e.message)});case 17:case"end":return e.stop()}})}var loginForm=document.getElementById("loginForm"),signupForm=document.getElementById("signupForm"),showSignup=document.getElementById("showSignup"),showLogin=document.getElementById("showLogin");showSignup.addEventListener("click",function(e){e.preventDefault(),loginForm.classList.remove("active"),signupForm.classList.add("active")}),showLogin.addEventListener("click",function(e){e.preventDefault(),signupForm.classList.remove("active"),loginForm.classList.add("active")});var loginButton=document.getElementById("loginBtn");loginButton.addEventListener("click",function(e){e.preventDefault(),login()});var signupButton=document.getElementById("signupBtn");signupButton.addEventListener("click",function(e){e.preventDefault(),signup()});
//# sourceMappingURL=auth.min.js.map
