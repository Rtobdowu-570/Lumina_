"use strict";var _pocketbase=require("./pocketbase.js");function alertMessage(e){var t=document.createElement("div");t.className="toast",t.textContent=e,document.body.appendChild(t),setTimeout(function(){t.remove()},2e3)}function login(){var t,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("loginEmail").value,n=document.getElementById("loginPassword").value,e.prev=2,e.next=5,regeneratorRuntime.awrap(_pocketbase.pb.collection("users").authWithPassword(t,n));case 5:alertMessage("Login successful"),(0,_pocketbase.isAuthenticated)()&&(window.location.href="/public/products.html"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),alertMessage(e.t0.message),console.error(e.t0.data);case 13:case"end":return e.stop()}},null,null,[[2,9]])}function signup(){var t,n,s,a,r,o,i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("firstName").value.trim(),n=document.getElementById("lastName").value.trim(),s=document.getElementById("signupEmail").value.trim(),a=document.getElementById("signupPassword").value,r=document.getElementById("confirmPassword").value,o="".concat(t," ").concat(n),s&&a&&r){e.next=9;break}return alertMessage("Please fill in all fields"),e.abrupt("return");case 9:if(a.length<8)return alertMessage("Password must be at least 8 characters"),e.abrupt("return");e.next=12;break;case 12:if(a!==r)return alertMessage("Passwords do not match"),e.abrupt("return");e.next=15;break;case 15:return i={email:s,emailVisibility:!0,name:o,password:a,passwordConfirm:r},e.prev=16,e.next=19,regeneratorRuntime.awrap(_pocketbase.pb.collection("users").create(i));case 19:return e.next=21,regeneratorRuntime.awrap(_pocketbase.pb.collection("users").authWithPassword(s,a));case 21:alertMessage("Signup successful"),window.location.href="/public/products.html",e.next=29;break;case 25:e.prev=25,e.t0=e.catch(16),alertMessage(e.t0.message),console.error(e.t0.data);case 29:case"end":return e.stop()}},null,null,[[16,25]])}var loginForm=document.getElementById("loginForm"),signupForm=document.getElementById("signupForm"),showSignup=document.getElementById("showSignup"),showLogin=document.getElementById("showLogin");showSignup.addEventListener("click",function(e){e.preventDefault(),loginForm.classList.remove("active"),signupForm.classList.add("active")}),showLogin.addEventListener("click",function(e){e.preventDefault(),signupForm.classList.remove("active"),loginForm.classList.add("active")});var loginButton=document.getElementById("loginBtn");loginButton.addEventListener("click",function(e){e.preventDefault(),login()});var signupButton=document.getElementById("signupBtn");signupButton.addEventListener("click",function(e){e.preventDefault(),signup()});var show=document.getElementById("showPassword"),hide=document.getElementById("hidePassword"),password=document.getElementById("signupPassword"),confirmPassword=document.getElementById("confirmPassword");hide.style.display="none",show.addEventListener("click",function(){password.type="text",confirmPassword.type="text",hide.style.display="block",show.style.display="none"}),hide.addEventListener("click",function(){password.type="password",confirmPassword.type="password",show.style.display="block",hide.style.display="none"});
//# sourceMappingURL=auth.min.js.map
