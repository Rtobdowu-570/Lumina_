{"version":3,"sources":["cart-item.js"],"names":["_modal","require","_pocketbase","CartItem","element","_this","this","config","title","message","confirmText","cancelText","onConfirm","regeneratorRuntime","async","_context","prev","next","awrap","pb","collection","dataset","id","classList","add","setTimeout","remove","updateCart","t0","console","error","stop","onCancel","modal","document","Modal","window","dispatchEvent","CustomEvent","toast","createElement","className","textContent","body","appendChild"],"mappings":"4FAAA,IAAAA,OAAAC,QAAA,0BACAC,YAAAD,QAAA,kaACME,6GAEGC,GAAS,IAAAC,EAAAC,KACRC,EAAS,CACbC,MAAO,cANbC,QAAA,4DAQMC,YAAa,SAPnBC,WAAA,SASMC,UAAW,WAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,GACLb,EADK,OAAAW,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAICC,YAAAA,GAAGC,WAAW,QAAd,OAA6BhB,EAAQiB,QAAQC,KAJ9CP,EAAAE,KAAA,GAAA,MAAA,KAAA,EAKLb,EAAQmB,UAAUC,IAAI,YACtBC,WAAW,WACTrB,EAAQsB,SACRrB,EAAKsB,cACJ,KATEZ,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAF,EAAAC,KAAA,EAAAD,EAAAa,GAAAb,EAAA,MAAA,GAWLc,QAAQC,MAAM,8BAAdf,EAAAa,IAXK,KAAA,GAAA,IAAA,MAAA,OAAAb,EAAAgB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,MAeXC,SAAU,WACR,IAAMC,EAAQC,SAtBb9B,cAAS,UAAA6B,IAwBRA,EAAMV,UAAUG,OAAO,QAvBvBnB,WAAS,WAAA,OAAA0B,EAAAP,UAAA,QAIH,IAAES,OAAAA,MAJC5B,GAKbK,4CAAWwB,OAAAC,cAAA,IAAAC,YAAA,mDAAA7B,GAAA,IAAA8B,EAAAL,SAAAM,cAAA,OAiCbD,EAAME,UAAY,QAjCLF,EAAAG,YAAAjC,EAAAyB,SAAAS,KAAAC,YAAAL,GAqCbd,WAAW,WAAA,OAAMc,EAAMhB,UAAUC,IAAI,SAAS,IArCjCC,WAAA,WAKLrB,EAAAA,UAAAA,OAAQmB,QACRE,WAAAA,WAAAA,OAAAA,EAAWC,UAAA,MACTtB","file":"cart-item.min.js","sourcesContent":["import {  Modal } from \"../components/modal.js\";\nimport { pb } from \"../api/pocketbase.js\";\nclass CartItem {\n\n  remove(element) {\n    const config = {\n      title: \"Remove Item\",\n      message: \"Are you sure you want to remove this item from your cart?\",\n      confirmText: \"Remove\",\n      cancelText: \"Cancel\",\n      onConfirm: async () => {\n        if (element) {\n          try {\n            // Delete from server\n            await pb.collection('cart').delete(element.dataset.id);\n            element.classList.add(\"removing\");\n            setTimeout(() => {\n              element.remove();\n              this.updateCart();\n            }, 300);\n          } catch (err) {\n            console.error('Failed to delete cart item:', err);\n          }\n        }\n      },\n      onCancel: () => {\n        const modal = document.querySelector(\".modal\");\n        if (modal) {\n          modal.classList.remove(\"show\");\n          setTimeout(() => modal.remove(), 300);\n        }\n      },\n    };\n    const modal = new Modal(config);\n    modal.show();\n  }\n\n  updateCart() {\n    window.dispatchEvent(new CustomEvent(\"cart-updated\"));\n  }\n\n  showToast(message) {\n    const toast = document.createElement(\"div\");\n    toast.className = \"toast\";\n    toast.textContent = message;\n    document.body.appendChild(toast);\n\n    setTimeout(() => toast.classList.add(\"show\"), 10);\n    setTimeout(() => {\n      toast.classList.remove(\"show\");\n      setTimeout(() => toast.remove(), 300);\n    }, 3000);\n  }\n}\n\nexport { CartItem };\n"]}