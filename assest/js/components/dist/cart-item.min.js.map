{"version":3,"sources":["cart-item.js"],"names":["CartItem","data","_classCallCheck","this","id","name","category","price","originalPrice","quantity","image","color","style","rating","reviews","document","createElement","output","item","className","concat","generateStars","toFixed","star","fullStars","_readOnlyError","Math","round","i","element","action","_this","remove","e","target","dataset","addToWishlist","updateQuantity","quantityInput","addEventListener","newQuantity","Number","parseInt","value","updateCart","_this2","querySelector","window","dispatchEvent","CustomEvent","change","input","button","textContent","showToast","toast","appendChild","setTimeout","classList","add"],"mappings":"0dAAMA,oBACF,SAAAA,EAAYC,GAAMC,gBAAAC,KAAAH,GAClBG,KAAKC,GAAKH,EAAKG,GACfD,KAAKE,KAAOJ,EAAKI,KACjBF,KAAKG,SAAWL,EAAKK,SACrBH,KAAKI,MAAQN,EAAKM,MAClBJ,KAAKK,cAAgBP,EAAKO,cAC1BL,KAAKM,SAAWR,EAAKQ,SACrBN,KAAKO,MAAQT,EAAKS,MAClBP,KAAKQ,MAAQV,EAAKU,MAThBX,KAAAA,MAUWC,EAAKW,MAClBT,KAAKU,OAASZ,EAAKY,OACnBV,KAAKW,QAAUb,EAAKa,8DAVpB,IAAUb,EAAVc,SAAAC,cAAA,OA2DQC,OA1DRC,EAAAC,UAAA,YACAD,EAAKZ,QAAWL,GAAKK,KAAAA,GAErBY,EAAKV,UAAL,wDAAAY,OACAjB,KAAAO,MADA,kGAAAU,OAGAjB,KAAAG,SAHA,kDAAAc,OAIAjB,KAAAE,KAJA,oGAAAe,OAMAjB,KAAAQ,MANA,6GAAAS,OAsBuCjB,KAAKS,MAtB5C,4GAAAQ,OASSjB,KAAAkB,gBATT,wDAAAD,OAUiBjB,KAAbU,OAVJ,MAAAO,OAUIjB,KAAAW,QAVJ,iZAAAM,OA+CgBjB,KAAAM,SA/ChB,wMAAAW,OAuCsCjB,KAAKI,MAAMe,QAAQ,GAvCzD,wBAAAF,OAmDQjB,KAAQK,cAAR,gCAAAY,OAAgCjB,KAAAK,cAAAc,QAAA,GAAhC,UAAgC,GAnDxC,oBAsDQnB,KAAMoB,qBAANL,GACMA,0CAIb,IAAAM,EAAA,EAVYC,eAAA,aAATD,EAAYE,KAAKC,MAAMxB,KAAKU,QAE5B,IADA,IAAII,EAAS,GACLW,EAAI,EAAGA,GAAKJ,EAAWI,IAUdC,CAEXC,GAAM,2CAAAV,OAVgBQ,EAAIJ,EAAa,IAUjC,eAEZ,OAAIP,+CAGaY,GAAK,IAAAE,EAAA5B,KACtB0B,EAAKG,iBAAL,QAAA,SAAAC,GACC,IAFMH,EAEIA,EAAMI,OAAKC,QAAfL,OACFM,aAALN,EACCC,EAFMM,eAGQ,GACX,aAAKL,EACRD,EAAAM,gBAAA,GAbD,WAAAP,EAgBAC,EAAMO,SACQC,aAADT,EACTC,EAAMS,gBACN,WAAGA,GACCT,EAAKtB,WAIYoB,EAAKpB,cAAtB,2BACH8B,iBAAA,SAAA,SAAAN,GARL,IAAAO,EAAAC,OAAAC,SAAAT,EAAAC,OAAAS,OAUH,EAAAH,GAPWT,EAAKtB,SAAW+B,EAChBT,EAAKa,cAGLX,EAAEC,OAAOS,MAAQZ,EAAKtB,4CAKzB,IAAAoC,EAAA1C,KAKG0B,EAACe,SAALE,cAAKF,YAAAA,OAALzC,KAAAC,KAFJyB,EAAAiB,cAAA,gCAIHP,iBAAA,QAAA,WAHOV,EAAQG,SACRa,EAAKD,oDAKTG,OAAOC,cAAc,IAAIC,YAAY,wDAKxBC,GACb/C,KAAMgD,SAAQtB,KAAQiB,IAAAA,EAAAA,KAAcrC,SAAAyC,GACtBnC,SAAd+B,cAAc,YAAA1B,OAAdjB,KAAAC,KACA0C,cAAA,iCACHH,MAAAxC,KAAAM,SADGN,KAAKyC,qDAKLQ,IAAOC,EAAAA,SAAPP,cAAOO,YAAAA,OAAPlD,KAAAC,GAAOiD,oBACPD,EAAOxC,YAAc,IAErBwC,EAAKE,MAAU3C,MAAA,UAAfR,KAAKmD,UAAU,wDAIbC,GACNA,IAAAA,EAAMpC,SAAYH,cAAlB,OACAuC,EAAAA,UAAMF,QACNtC,EAAAA,YAAcyC,EAEdC,SAAAA,KAAWD,YAAAD,GAAAE,WAAX,WAAA,OAAAF,EAAAG,UAAAC,IAAA,SAAA,IACAF,WAAAA,WACIF,EAAMG,UAAU1B,OAAO,QACvByB,WAAW,WAAA,OAAAF,EAAAvB,UAAA,MAAA","file":"cart-item.min.js","sourcesContent":["class CartItem  {\n    constructor(data) {\n    this.id = data.id\n    this.name = data.name\n    this.category = data.category\n    this.price = data.price\n    this.originalPrice = data.originalPrice\n    this.quantity = data.quantity\n    this.image = data.image\n    this.color = data.color\n    this.style = data.style\n    this.rating = data.rating\n    this.reviews = data.reviews\n    }\n\n    render() {\n        const item = document.createElement(\"div\")\n        item.className = \"cart-item\"\n        item.dataset.id = this.id\n\n        item.innerHTML = `\n        <div class=\"item-image\" style=\"background: ${this.image};\"></div>\n            <div class=\"item-details\">\n                <div class=\"item-category\">${this.category}</div>\n                <h3 class=\"item-name\">${this.name}</h3>\n                <div class=\"item-meta\">\n                <span class=\"item-color\">Color: ${this.color}</span>\n                <span class=\"item-separator\">‚Ä¢</span>\n                <span class=\"item-style\">${this.style}</span>\n            </div>\n            <div class=\"item-rating\">\n                <span class=\"stars\">${this.generateStars()}</span>\n                <span class=\"rating-count\">${this.rating} (${this.reviews})</span>\n            </div>\n        </div>\n        <div class=\"item-actions\">\n            <button class=\"wishlist-btn\" data-action=\"whitelist\">‚ô°</button>\n            <button class=\"remove-btn\" data-action=\"remove\">üóëÔ∏è</button>\n        </div>\n        <div class=\"item-quantity\">\n            <button class=\"qty-btn\" data-action=\"decrease\">‚àí</button>\n            <input type=\"number\" value=\"${this.quantity}\" min=\"1\" data-action=\"quantity\">\n            <button class=\"qty-btn\" data-action=\"increase\">+</button>\n        </div>\n        <div class=\"item-price\">\n            <div class=\"price-current\">$${this.price.toFixed(2)}</div>\n            ${this.originalPrice ? `<div class=\"price-original\">$${this.originalPrice.toFixed(2)}</div>` : \"\"}\n        </div>`\n\n        this.attachEventListeners(item)\n        return item\n    }\n\n    generateStars() {\n        const fullStars = 5;\n        fullStars = Math.round(this.rating);\n        let output = '';\n        for(let i = 0; i <= fullStars; i++) {\n            // get percentage of star to fill\n            const starPercentage = (i / fullStars) * 100;\n            const star = starPercentage;\n            output += \n            `<span class=\"star filled\" style=\"width: ${star};\">‚òÖ</span>`;\n        }\n        return output;\n    }\n\n    attachEventListeners(element) {\n        element.addEventListener('click', (e) => {\n        const action = e.target.dataset.action;\n        if (action === \"increase\") {\n        this.updateQuantity(1)\n        } else if (action === \"decrease\") {\n        this.updateQuantity(-1)\n        } else if (action === \"remove\") {\n        this.remove()\n        } else if (action === \"wishlist\") {\n        this.addToWishlist()\n        }\n        else if (action === \"remove\") {\n            this.remove()\n        }\n        })\n\n        const quantityInput = element.querySelector('[data-action=\"quantity]')\n        quantityInput.addEventListener('change', (e) => {\n            const newQuantity = Number.parseInt(e.target.value)\n            if(newQuantity > 0) {\n                this.quantity = newQuantity\n                this.updateCart()\n            } \n            else{\n                e.target.value = this.quantity\n            }\n        })\n    }\n\n    remove() {\n        const element = document.querySelector(`[data-id=${this.id}`)\n        const removeBtn = element.querySelector('button[data-action=\"remove\"]')\n        removeBtn.addEventListener('click', () => {\n            element.remove()\n            this.updateCart()\n        })\n    }\n\n    updateCart() {\n        window.dispatchEvent(new CustomEvent(\"cart-updated\"))\n    }\n\n    updateQuantity(change) {\n        this.quantity = Math.max(1, this.quantity + change)\n        const element = document.querySelector(`[data-id=${this.id}`)\n        const input = element.querySelector('input[data-action=\"quantity\"]')\n        input.value = this.quantity;\n        this.updateCart()\n    }\n\n    addToWishlist() {\n        const button = document.querySelector(`[data-id=${this.id}], wishlist-btn`)\n        button.textContent = \"‚ô•\"\n        button.style.color = \"#ef4444\"\n\n        this.showToast('Added to Whitelist')\n    }\n\n    showToast(message) {\n    const toast = document.createElement(\"div\")\n    toast.className = \"toast\"\n    toast.textContent = message\n    document.body.appendChild(toast)\n\n    setTimeout(() => toast.classList.add(\"show\"), 10)\n    setTimeout(() => {\n        toast.classList.remove(\"show\")\n        setTimeout(() => toast.remove(), 300)\n    }, 3000)\n  }\n}"]}