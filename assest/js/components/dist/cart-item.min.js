"use strict";function _readOnlyError(t){throw new Error('"'+t+'" is read-only')}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}var CartItem=function(){function e(t){_classCallCheck(this,e),this.id=t.id,this.name=t.name,this.category=t.category,this.price=t.price,this.originalPrice=t.originalPrice,this.quantity=t.quantity,this.image=t.image,this.color=t.color,this.style=t.style,this.rating=t.rating,this.reviews=t.reviews}return _createClass(e,[{key:"render",value:function(){var t=document.createElement("div");return t.className="cart-item",t.dataset.id=this.id,t.innerHTML='\n        <div class="item-image" style="background: '.concat(this.image,';"></div>\n            <div class="item-details">\n                <div class="item-category">').concat(this.category,'</div>\n                <h3 class="item-name">').concat(this.name,'</h3>\n                <div class="item-meta">\n                <span class="item-color">Color: ').concat(this.color,'</span>\n                <span class="item-separator">‚Ä¢</span>\n                <span class="item-style">').concat(this.style,'</span>\n            </div>\n            <div class="item-rating">\n                <span class="stars">').concat(this.generateStars(),'</span>\n                <span class="rating-count">').concat(this.rating," (").concat(this.reviews,')</span>\n            </div>\n        </div>\n        <div class="item-actions">\n            <button class="wishlist-btn" data-action="whitelist">‚ô°</button>\n            <button class="remove-btn" data-action="remove">üóëÔ∏è</button>\n        </div>\n        <div class="item-quantity">\n            <button class="qty-btn" data-action="decrease">‚àí</button>\n            <input type="number" value="').concat(this.quantity,'" min="1" data-action="quantity">\n            <button class="qty-btn" data-action="increase">+</button>\n        </div>\n        <div class="item-price">\n            <div class="price-current">$').concat(this.price.toFixed(2),"</div>\n            ").concat(this.originalPrice?'<div class="price-original">$'.concat(this.originalPrice.toFixed(2),"</div>"):"","\n        </div>"),this.attachEventListeners(t),t}},{key:"generateStars",value:function(){var t=5;_readOnlyError("fullStars"),t=Math.round(this.rating);for(var e="",a=0;a<=t;a++){e+='<span class="star filled" style="width: '.concat(a/t*100,';">‚òÖ</span>')}return e}},{key:"attachEventListeners",value:function(t){var a=this;t.addEventListener("click",function(t){var e=t.target.dataset.action;"increase"===e?a.updateQuantity(1):"decrease"===e?a.updateQuantity(-1):"remove"===e?a.remove():"wishlist"===e?a.addToWishlist():"remove"===e&&a.remove()}),t.querySelector('[data-action="quantity]').addEventListener("change",function(t){var e=Number.parseInt(t.target.value);0<e?(a.quantity=e,a.updateCart()):t.target.value=a.quantity})}},{key:"remove",value:function(){var e=this;new window.Modal({title:"Remove Item",message:"Are you sure you want to remove this item from your cart?",confirmText:"Remove",cancelText:"Cancel",onConfirm:function(){var t=document.querySelector('[data-id="'.concat(e.id,'"]'));t.classList.add("removing"),setTimeout(function(){t.remove(),e.updateCart()},300)}}).show()}},{key:"updateCart",value:function(){window.dispatchEvent(new CustomEvent("cart-updated"))}},{key:"updateQuantity",value:function(t){this.quantity=Math.max(1,this.quantity+t),document.querySelector("[data-id=".concat(this.id)).querySelector('input[data-action="quantity"]').value=this.quantity,this.updateCart()}},{key:"addToWishlist",value:function(){var t=document.querySelector("[data-id=".concat(this.id,"], wishlist-btn"));t.textContent="‚ô•",t.style.color="#ef4444",this.showToast("Added to Whitelist")}},{key:"showToast",value:function(t){var e=document.createElement("div");e.className="toast",e.textContent=t,document.body.appendChild(e),setTimeout(function(){return e.classList.add("show")},10),setTimeout(function(){e.classList.remove("show"),setTimeout(function(){return e.remove()},300)},3e3)}}]),e}();
//# sourceMappingURL=cart-item.min.js.map
