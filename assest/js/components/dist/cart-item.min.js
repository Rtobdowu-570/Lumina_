"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CartItem=void 0;var _modal=require("../components/modal.js"),_pocketbase=require("../api/pocketbase.js");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var CartItem=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"remove",value:function(t){var r=this,e={title:"Remove Item",message:"Are you sure you want to remove this item from your cart?",confirmText:"Remove",cancelText:"Cancel",onConfirm:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return e.prev=1,e.next=4,regeneratorRuntime.awrap(_pocketbase.pb.collection("cart").delete(t.dataset.id));e.next=11;break;case 4:t.classList.add("removing"),setTimeout(function(){t.remove(),r.updateCart()},300),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Failed to delete cart item:",e.t0);case 11:case"end":return e.stop()}},null,null,[[1,8]])},onCancel:function(){var e=document.querySelector(".modal");e&&(e.classList.remove("show"),setTimeout(function(){return e.remove()},300))}};new _modal.Modal(e).show()}},{key:"updateCart",value:function(){window.dispatchEvent(new CustomEvent("cart-updated"))}},{key:"showToast",value:function(e){var t=document.createElement("div");t.className="toast",t.textContent=e,document.body.appendChild(t),setTimeout(function(){return t.classList.add("show")},10),setTimeout(function(){t.classList.remove("show"),setTimeout(function(){return t.remove()},300)},3e3)}}]),e}();exports.CartItem=CartItem;
//# sourceMappingURL=cart-item.min.js.map
