{"version":3,"sources":["product-card.js"],"names":["ProductCard","product","_classCallCheck","this","id","name","price","image","category","rating","reviews","badge","description","stock","isFeature","isWhitelisted","card","document","createElement","className","dataset","concat","generateStars","toFixed","originalPrice","attachEventListeners","fullStars","output","Math","round","i","element","_this","addEventListener","e","action","target","preventDefault","addToCart","window","location","href","showToast","CustomEvent","detail","toggleWhitelist","dispatchEvent","btn","querySelector","textContent","message","toast","classList","setTimeout","remove"],"mappings":"4iBAAMA,uBACJ,SAAAA,EAAYC,GAASC,gBAAAC,KAAAH,GACnBG,KAAKC,GAAKH,EAAQG,GAClBD,KAAKE,KAAOJ,EAAQI,KACpBF,KAAKG,MAAQL,EAAQK,MACrBH,KAAKI,MAAQN,EAAQM,MACrBJ,KAAKK,SAAWP,EAAQO,SACxBL,KAAKM,OAASR,EAAQQ,OACtBN,KAAKO,QAAUT,EAAQS,QACvBP,KAAKQ,MAAQV,EAAQU,MACrBR,KAAKS,YAAcX,EAAQW,YAC3BT,KAAKU,MAAQZ,EAAQY,MACrBV,KAAKW,UAAYb,EAAQa,UACzBX,KAAKY,cAAgBd,EAAQc,gBAAiB,wDAI9C,IAAMC,EAAOC,SAASC,cAAc,OA4BpC,OA5CFF,EAAAG,UAAA,eAAqBH,EAAAI,QAAAhB,GAAAD,KAAAC,GACnBY,EAAKZ,UAAL,aAAAiB,OACKhB,KAALM,MAAKN,8BAAAA,OAALF,KAAAQ,MAAKN,UAAL,GADA,2CAAAgB,OAEAlB,KAAAY,cAAA,cAAA,GAFA,0CAAAM,OAGAlB,KAAAY,cAAA,IAAA,IAHA,qEAAAM,OAIAlB,KAAAI,MAJA,6FAAAc,OAMAlB,KAAAK,SANA,iDAAAa,OAOAlB,KAAAE,KAPA,yFAAAgB,OASAlB,KAAAmB,gBATA,wDAAAD,OAUAlB,KAAAM,OAVA,MAAAY,OAUAlB,KAAAO,QAVA,0KAAAW,OAiC+ClB,KAAKG,MAAMiB,QAAQ,GAjClE,qCAAAF,OAkCsBlB,KAAKqB,cAAL,iCAAAH,OAAsDlB,KAAKqB,cAAcD,QAAQ,GAAjF,WAA+F,GAlCrH,wOA4CDpB,KAAAsB,qBAAAT,GADQA,0CAKPU,IAAAA,EAAS,EACLC,eAAAA,aAAJD,EAAUE,KAAVC,MAAA1B,KAAAM,QACA,IADA,IAAIkB,EAAS,GACRG,EAAK,EAAVA,GAAiBJ,EAAjBI,IAAA,CAIEH,GAAAA,2CAAAA,OAFyBG,EAAGJ,EAAa,IAEzCC,eAEF,OAAOA,+CAGYI,GAAS,IAAAC,EAAA7B,KAC5B4B,EAAQE,iBAAiB,QAAS,SAACC,GACjC,IAAMC,EAASD,EAAEE,OAAOhB,QAAQe,OAFN,gBAAAA,GAIxBD,EAAEG,iBAHNN,EAAOO,aACYF,cAAXD,GAKJD,EAAEG,iBAJJL,EAAIG,aAOFI,OAAOC,SAASC,KAAhB,0BAAApB,OAAiDW,EAAK5B,0CADvDD,KAHMuC,UAGA,kBACLH,OAAAA,cACD,IAAAI,YAAA,wBAAA,CAAAC,OAAAzC,4CAYHA,KAAK0C,gBAAgBd,SAPrBQ,OAAKG,cACLH,IAAAA,YAAOO,sBACW,CAAAF,OAAAzC,gDAWJ4B,GACd5B,KAAKY,eAAiBZ,KAAKY,cAC3B,IAAMgC,EAAMhB,EAAQiB,cATV,kBACVD,EAAAE,YAAKJ,KAAgBd,cAArB,IAAA,IACAQ,EAAAA,UAAOO,OAAAA,SACDH,KAAAA,eAAqCC,KAAAA,UAAFzC,KADzCY,cAAA,qBAAA,4DAeQmC,GATR,IAAAC,EAAKpC,SAAgBG,cAAMH,OAC3BoC,EAAMJ,UAAMhB,QACZgB,EAAIE,UAAJC,EACAH,SAAIK,KAAAA,YAAiBD,GACrBE,WAAKX,WAGNS,EAAAG,UASI","file":"product-card.min.js","sourcesContent":["class ProductCard {\n  constructor(product) {\n    this.id = product.id;\n    this.name = product.name;\n    this.price = product.price;\n    this.image = product.image;\n    this.category = product.category;\n    this.rating = product.rating;\n    this.reviews = product.reviews;\n    this.badge = product.badge;\n    this.description = product.description;\n    this.stock = product.stock;\n    this.isFeature = product.isFeature;\n    this.isWhitelisted = product.isWhitelisted || false;\n  }\n\n  render() {\n    const card = document.createElement(\"div\");\n    card.className = \"product-card\";\n    card.dataset.id = this.id;\n\n    card.innerHTML = `\n        ${this.badge ? `<div class=\"product-badge\">${this.badge}</div>` : \"\"}\n        <button class=\"whitelist-btn ${this.isWhitelisted ? \"whitelisted\" : \"\"}\"\n        data-action='whitelist'>  ${this.isWhitelisted ? \"â™¥\" : \"â™¡\"}</button>\n        <div class=\"product-image\" style=\"background: ${this.image};\"></div>\n        <div class=\"product-info\">\n            <div class=\"product-category\">${this.category}</div>\n            <h3 class=\"product-name\">${this.name}</h3>\n            <div class=\"product-rating\">\n                <span class=\"stars\">${this.generateStars()}</span>\n                <span class=\"rating-count\">${this.rating} (${this.reviews})</span>\n            </div>\n            <div class=\"product-footer\">\n                <div class=\"product-price\">\n                    <span class=\"price-current\">$${this.price.toFixed(2)}</span>\n                        ${this.originalPrice ? `<span class=\"price-original\">$${this.originalPrice.toFixed(2)}</span>` : \"\"}\n                </div>\n                <button class=\"add-to-cart-btn\" data-action=\"add-to-cart\">\n                    <span class=\"cart-icon\">ðŸ›’</span>\n                </button>\n            </div>\n        </div>\n        `;\n    this.attachEventListeners(card);\n    return card;\n  }\n\n  generateStars() {\n    const fullStars = 5;\n    fullStars = Math.round(this.rating);\n    let output = \"\";\n    for (let i = 0; i <= fullStars; i++) {\n      // get percentage of star to fill\n      const starPercentage = (i / fullStars) * 100;\n      const star = starPercentage;\n      output += `<span class=\"star filled\" style=\"width: ${star};\">â˜…</span>`;\n    }\n    return output;\n  }\n\n  attachEventListeners(element) {\n    element.addEventListener(\"click\", (e) => {\n      const action = e.target.dataset.action;\n      if (action === \"add-to-cart\") {\n        e.preventDefault();\n        this.addToCart();\n      } else if (action === \"whitelist\") {\n        e.preventDefault();\n        this.whitelist();\n      } else {\n        window.location.href = `product-detail.html?id=${this.id}`;\n      }\n    });\n  }\n\n  addToCart() {\n    this.showToast(\"Added to cart!\");\n    window.dispatchEvent(\n      new CustomEvent(\"product-added-to-cart\", { detail: this }),\n    );\n  }\n\n  whitelist() {\n    this.toggleWhitelist(element);\n    window.dispatchEvent(\n      new CustomEvent(\"product-whitelisted\", { detail: this }),\n    );\n  }\n\n  toggleWhitelist(element) {\n    this.isWhitelisted = !this.isWhitelisted;\n    const btn = element.querySelector(\".whitelist-btn\");\n    btn.textContent = this.isWhitelisted ? \"â™¥\" : \"â™¡\";\n    btn.classList.toggle(\"active\", this.isWhitelisted);\n    this.showToast(\n      this.isWhitelisted ? \"Added to Whitelist\" : \"Removed from Whitelist\",\n    );\n  }\n\n  showToast(message) {\n    const toast = document.createElement(\"div\");\n    toast.className = \"toast\";\n    toast.innerText = message;\n    document.body.appendChild(toast);\n    setTimeout(() => {\n      toast.remove();\n    }, 2000);\n  }\n}\n\nexport { ProductCard };\n"]}