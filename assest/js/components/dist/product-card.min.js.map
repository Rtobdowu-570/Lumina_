{"version":3,"sources":["product-card.js"],"names":["ProductCard","product","_classCallCheck","this","id","name","price","image","category","rating","reviews","badge","description","stock","isFeature","isWhitelisted","card","document","createElement","className","dataset","innerHTML","concat","generateStars","toFixed","originalPrice","attachEventListeners","fullStars","_readOnlyError","Math","round","output","i","element","_this","addEventListener","action","e","target","preventDefault","whitelist","href","showToast","window","dispatchEvent","CustomEvent","detail","querySelector","btn","classList","toggle","message","toast","textContent","setTimeout","remove"],"mappings":"4iBAAMA,uBACF,SAAAA,EAAYC,GAASC,gBAAAC,KAAAH,GACjBG,KAAKC,GAAKH,EAAQG,GAClBD,KAAKE,KAAOJ,EAAQI,KACpBF,KAAKG,MAAQL,EAAQK,MACrBH,KAAKI,MAAQN,EAAQM,MACrBJ,KAAKK,SAAWP,EAAQO,SACxBL,KAAKM,OAASR,EAAQQ,OACtBN,KAAKO,QAAUT,EAAQS,QACvBP,KAAKQ,MAAQV,EAAQU,MACrBR,KAAKS,YAAcX,EAAQW,YAC3BT,KAAKU,MAAQZ,EAAQY,MACrBV,KAAKW,UAAYb,EAAQa,UACzBX,KAAKY,cAAgBd,EAAQc,gBAAiB,wDAI9C,IAAMC,EAAOC,SAASC,cAAc,OA4BpC,OA5CJF,EAAAG,UAAYlB,eAASe,EAAAI,QAAAhB,GAAAD,KAAAC,GACjBY,EAAAK,UAAA,aAAAC,OACKjB,KAALM,MAAKN,8BAAAA,OAALF,KAAAQ,MAAKN,UAAL,GADA,2CAAAiB,OAEAnB,KAAAY,cAAA,cAAA,GAFA,2CAAAO,OAGAnB,KAAAY,cAAA,IAAA,IAHA,qEAAAO,OAIAnB,KAAAI,MAJA,6FAAAe,OAMAnB,KAAAK,SANA,iDAAAc,OAOAnB,KAAAE,KAPA,yFAAAiB,OASAnB,KAAAoB,gBATA,wDAAAD,OAUAnB,KAAAM,OAVA,MAAAa,OAUAnB,KAAAO,QAVA,0KAAAY,OAiC2CnB,KAAKG,MAAMkB,QAAQ,GAjC9D,qCAAAF,OAkCkBnB,KAAKsB,cAAL,iCAAAH,OAAsDnB,KAAKsB,cAAcD,QAAQ,GAAjF,WAA+F,GAlCjH,wOA4CHrB,KAAAuB,qBAAAV,GADUA,0CAKPW,IAAAA,EAAS,EACCC,eAAA,aAAVD,EAAaE,KAAbC,MAAA3B,KAAAM,QACA,IADA,IAAIsB,EAAS,GACJC,EAAT,EAAgBA,GAAIL,EAAYK,IAAI,CAIhCD,GAAM,2CAAAT,OAFsBK,EAAAA,EAA5B,IAEM,eAGV,OAAOI,+CAGUE,GAAS,IAAAC,EAAA/B,KAC1B8B,EAAQE,iBAAiB,QADRF,SAAAA,GAAS,IAAAG,EAAAC,EAAAC,OAAAlB,QAAAgB,OAGR,gBAAXA,GAFCD,EAAAA,iBACEC,EAASC,aACD,cAALD,GACHG,EAAAA,iBAKFL,EAAKM,aADHD,OAAAA,SAAFE,KAAEF,0BAAAA,OAAFL,EAAA9B,0CAPRD,KAAAuC,UAAA,kBAcHC,OAAAC,cAAA,IAAAC,YAAA,wBAAA,CAAAC,OAAA3C,gDAOe8B,GAJZ9B,KAAKuC,eAAUvC,KAAAY,cACf4B,IAAOC,EAAAA,EAAcG,cAAA,kBAA2CD,EAAAA,YAAQ3C,KAAAY,cAAA,IAAA,IAAxEiC,EAAAC,UAAAC,OAAA,SAAA/C,KAAAY,eACHZ,KAAAuC,UAAAvC,KAAAY,cAAA,qBAAA,4DAUSoC,GAPN,IAAKpC,EAAAA,SAAiBG,cAAKH,OAC3BqC,EAASjC,UAAW4B,QACpBC,EAAIK,UAAcF,EAClBH,SAAIC,KAAUC,YAAOE,GACrBE,WAAKZ,WACJU,EAAAG,UASE","file":"product-card.min.js","sourcesContent":["class ProductCard{\n    constructor(product) {\n        this.id = product.id;\n        this.name = product.name;\n        this.price = product.price;\n        this.image = product.image;\n        this.category = product.category;\n        this.rating = product.rating;\n        this.reviews = product.reviews;\n        this.badge = product.badge;\n        this.description = product.description;\n        this.stock = product.stock;\n        this.isFeature = product.isFeature;\n        this.isWhitelisted = product.isWhitelisted || false;\n    }\n\n    render() {\n        const card = document.createElement('div');\n        card.className = 'product-card';\n        card.dataset.id = this.id;\n\n        card.innerHTML = `\n        ${this.badge ? `<div class=\"product-badge\">${this.badge}</div>` : ''}\n        <button class=\"whitelist-btn ${this.isWhitelisted ? 'whitelisted' : ''}\" \n        data-action='whitelist'>  ${this.isWhitelisted ? \"â™¥\" : \"â™¡\"}</button>\n        <div class=\"product-image\" style=\"background: ${this.image};\"></div>\n        <div class=\"product-info\">\n            <div class=\"product-category\">${this.category}</div>\n            <h3 class=\"product-name\">${this.name}</h3>\n            <div class=\"product-rating\">\n                <span class=\"stars\">${this.generateStars()}</span>\n                <span class=\"rating-count\">${this.rating} (${this.reviews})</span>\n            </div>\n            <div class=\"product-footer\">\n                <div class=\"product-price\">\n                    <span class=\"price-current\">$${this.price.toFixed(2)}</span>\n                        ${this.originalPrice ? `<span class=\"price-original\">$${this.originalPrice.toFixed(2)}</span>` : \"\"}\n                </div>\n                <button class=\"add-to-cart-btn\" data-action=\"add-to-cart\">\n                    <span class=\"cart-icon\">ðŸ›’</span>\n                </button>\n            </div>\n        </div>\n        `\n        this.attachEventListeners(card);\n        return card;\n    }\n\n    generateStars() {\n        const fullStars = 5;\n        fullStars = Math.round(this.rating);\n        let output = '';\n        for(let i = 0; i <= fullStars; i++) {\n            // get percentage of star to fill\n            const starPercentage = (i / fullStars) * 100;\n            const star = starPercentage;\n            output += \n            `<span class=\"star filled\" style=\"width: ${star};\">â˜…</span>`;\n        }\n        return output;\n    }\n\n    attachEventListeners(element) {\n        element.addEventListener('click', (e) => {\n            const action = e.target.dataset.action;\n            if(action === 'add-to-cart') {\n                e.preventDefault()\n                this.addToCart();\n            }\n            else if(action === 'whitelist') {\n                e.preventDefault()\n                this.whitelist();\n            }\n            else{\n                window.location.href = `product-detail.html?id=${this.id}`;\n            }\n        })\n    }\n\n    addToCart() {\n        this.showToast('Added to cart!');\n        window.dispatchEvent(new CustomEvent(\"product-added-to-cart\", { detail: this }))\n    }\n\n    toggleWhitelist(element) {\n        this.isWhitelisted = !this.isWhitelisted;\n        const btn = element.querySelector('.whitelist-btn')\n        btn.textContent = this.isWhitelisted ? \"â™¥\" : \"â™¡\";\n        btn.classList.toggle('active', this.isWhitelisted)\n        this.showToast(this.isWhitelisted ? 'Added to Whitelist' : 'Removed from Whitelist')\n        }\n\n    showToast(message) {\n        const toast = document.createElement('div');\n        toast.className = 'toast';\n        toast.innerText = message;\n        document.body.appendChild(toast);\n        setTimeout(() => {\n            toast.remove();\n        }, 2000);\n    }\n}\n\nexport { ProductCard }"]}