{"version":3,"sources":["product-card.js"],"names":["ProductCard","product","id","name","price","image","category","rating","reviews","badge","description","stock","isFeature","isWhitelisted","card","document","createElement","className","dataset","innerHTML","generateStars","toFixed","originalPrice","attachEventListeners","fullStars","Math","round","output","i","starPercentage","star","element","addEventListener","e","action","target","preventDefault","addToCart","whitelist","window","location","href","showToast","dispatchEvent","CustomEvent","detail","btn","querySelector","textContent","classList","toggle","message","toast","innerText","body","appendChild","setTimeout","remove"],"mappings":"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","sourcesContent":["class ProductCard{\n    constructor(product) {\n        this.id = product.id;\n        this.name = product.name;\n        this.price = product.price;\n        this.image = product.image;\n        this.category = product.category;\n        this.rating = product.rating;\n        this.reviews = product.reviews;\n        this.badge = product.badge;\n        this.description = product.description;\n        this.stock = product.stock;\n        this.isFeature = product.isFeature;\n        this.isWhitelisted = product.isWhitelisted || false;\n    }\n\n    render() {\n        const card = document.createElement('div');\n        card.className = 'product-card';\n        card.dataset.id = this.id;\n\n        card.innerHTML = `\n        ${this.badge ? `<div class=\"product-badge\">${this.badge}</div>` : ''}\n        <button class=\"whitelist-btn ${this.isWhitelisted ? 'whitelisted' : ''}\" \n        data-action='whitelist'>  ${this.isWhitelisted ? \"â™¥\" : \"â™¡\"}</button>\n        <div class=\"product-image\" style=\"background: ${this.image};\"></div>\n        <div class=\"product-info\">\n            <div class=\"product-category\">${this.category}</div>\n            <h3 class=\"product-name\">${this.name}</h3>\n            <div class=\"product-rating\">\n                <span class=\"stars\">${this.generateStars()}</span>\n                <span class=\"rating-count\">${this.rating} (${this.reviews})</span>\n            </div>\n            <div class=\"product-footer\">\n                <div class=\"product-price\">\n                    <span class=\"price-current\">$${this.price.toFixed(2)}</span>\n                        ${this.originalPrice ? `<span class=\"price-original\">$${this.originalPrice.toFixed(2)}</span>` : \"\"}\n                </div>\n                <button class=\"add-to-cart-btn\" data-action=\"add-to-cart\">\n                    <span class=\"cart-icon\">ðŸ›’</span>\n                </button>\n            </div>\n        </div>\n        `\n        this.attachEventListeners(card);\n        return card;\n    }\n\n    generateStars() {\n        const fullStars = 5;\n        fullStars = Math.round(this.rating);\n        let output = '';\n        for(let i = 0; i <= fullStars; i++) {\n            // get percentage of star to fill\n            const starPercentage = (i / fullStars) * 100;\n            const star = starPercentage;\n            output += \n            `<span class=\"star filled\" style=\"width: ${star};\">â˜…</span>`;\n        }\n        return output;\n    }\n\n    attachEventListeners(element) {\n        element.addEventListener('click', (e) => {\n            const action = e.target.dataset.action;\n            if(action === 'add-to-cart') {\n                e.preventDefault()\n                this.addToCart();\n            }\n            else if(action === 'whitelist') {\n                e.preventDefault()\n                this.whitelist();\n            }\n            else{\n                window.location.href = `product-detail.html?id=${this.id}`;\n            }\n        })\n    }\n\n    addToCart() {\n        this.showToast('Added to cart!');\n        window.dispatchEvent(new CustomEvent(\"product-added-to-cart\", { detail: this }))\n    }\n\n    toggleWhitelist(element) {\n        this.isWhitelisted = !this.isWhitelisted;\n        const btn = element.querySelector('.whitelist-btn')\n        btn.textContent = this.isWhitelisted ? \"â™¥\" : \"â™¡\";\n        btn.classList.toggle('active', this.isWhitelisted)\n        this.showToast(this.isWhitelisted ? 'Added to Whitelist' : 'Removed from Whitelist')\n        }\n\n    showToast(message) {\n        const toast = document.createElement('div');\n        toast.className = 'toast';\n        toast.innerText = message;\n        document.body.appendChild(toast);\n        setTimeout(() => {\n            toast.remove();\n        }, 2000);\n    }\n}\n\nexport { ProductCard }"],"file":"product-card.dev.js"}