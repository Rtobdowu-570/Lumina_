{"version":3,"sources":["cart-item.js"],"names":["CartItem","data","id","name","category","price","originalPrice","quantity","image","color","style","rating","reviews","item","document","createElement","className","dataset","innerHTML","generateStars","toFixed","attachEventListeners","fullStars","Math","round","output","i","starPercentage","star","element","addEventListener","e","action","target","updateQuantity","remove","addToWishlist","quantityInput","querySelector","newQuantity","Number","parseInt","value","updateCart","Modal","window","modal","title","message","confirmText","cancelText","onConfirm","classList","add","setTimeout","show","dispatchEvent","CustomEvent","change","max","input","button","textContent","showToast","toast","body","appendChild"],"mappings":"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","sourcesContent":["class CartItem  {\n    constructor(data) {\n    this.id = data.id\n    this.name = data.name\n    this.category = data.category\n    this.price = data.price\n    this.originalPrice = data.originalPrice\n    this.quantity = data.quantity\n    this.image = data.image\n    this.color = data.color\n    this.style = data.style\n    this.rating = data.rating\n    this.reviews = data.reviews\n    }\n\n    render() {\n        const item = document.createElement(\"div\")\n        item.className = \"cart-item\"\n        item.dataset.id = this.id\n\n        item.innerHTML = `\n        <div class=\"item-image\" style=\"background: ${this.image};\"></div>\n            <div class=\"item-details\">\n                <div class=\"item-category\">${this.category}</div>\n                <h3 class=\"item-name\">${this.name}</h3>\n                <div class=\"item-meta\">\n                <span class=\"item-color\">Color: ${this.color}</span>\n                <span class=\"item-separator\">‚Ä¢</span>\n                <span class=\"item-style\">${this.style}</span>\n            </div>\n            <div class=\"item-rating\">\n                <span class=\"stars\">${this.generateStars()}</span>\n                <span class=\"rating-count\">${this.rating} (${this.reviews})</span>\n            </div>\n        </div>\n        <div class=\"item-actions\">\n            <button class=\"wishlist-btn\" data-action=\"whitelist\">‚ô°</button>\n            <button class=\"remove-btn\" data-action=\"remove\">üóëÔ∏è</button>\n        </div>\n        <div class=\"item-quantity\">\n            <button class=\"qty-btn\" data-action=\"decrease\">‚àí</button>\n            <input type=\"number\" value=\"${this.quantity}\" min=\"1\" data-action=\"quantity\">\n            <button class=\"qty-btn\" data-action=\"increase\">+</button>\n        </div>\n        <div class=\"item-price\">\n            <div class=\"price-current\">$${this.price.toFixed(2)}</div>\n            ${this.originalPrice ? `<div class=\"price-original\">$${this.originalPrice.toFixed(2)}</div>` : \"\"}\n        </div>`\n\n        this.attachEventListeners(item)\n        return item\n    }\n\n    generateStars() {\n        const fullStars = 5;\n        fullStars = Math.round(this.rating);\n        let output = '';\n        for(let i = 0; i <= fullStars; i++) {\n            // get percentage of star to fill\n            const starPercentage = (i / fullStars) * 100;\n            const star = starPercentage;\n            output += \n            `<span class=\"star filled\" style=\"width: ${star};\">‚òÖ</span>`;\n        }\n        return output;\n    }\n\n    attachEventListeners(element) {\n        element.addEventListener('click', (e) => {\n        const action = e.target.dataset.action;\n        if (action === \"increase\") {\n        this.updateQuantity(1)\n        } else if (action === \"decrease\") {\n        this.updateQuantity(-1)\n        } else if (action === \"remove\") {\n        this.remove()\n        } else if (action === \"wishlist\") {\n        this.addToWishlist()\n        }\n        else if (action === \"remove\") {\n            this.remove()\n        }\n        })\n\n        const quantityInput = element.querySelector('[data-action=\"quantity]')\n        quantityInput.addEventListener('change', (e) => {\n            const newQuantity = Number.parseInt(e.target.value)\n            if(newQuantity > 0) {\n                this.quantity = newQuantity\n                this.updateCart()\n            } \n            else{\n                e.target.value = this.quantity\n            }\n        })\n    }\n\n    remove() {\n    const Modal = window.Modal \n    const modal = new Modal({\n      title: \"Remove Item\",\n      message: \"Are you sure you want to remove this item from your cart?\",\n      confirmText: \"Remove\",\n      cancelText: \"Cancel\",\n    onConfirm: () => {\n        const element = document.querySelector(`[data-id=\"${this.id}\"]`)\n        element.classList.add(\"removing\")\n        setTimeout(() => {\n        element.remove()\n        this.updateCart()\n        }, 300)\n    },\n    })\n    modal.show()\n    }\n\n    updateCart() {\n        window.dispatchEvent(new CustomEvent(\"cart-updated\"))\n    }\n\n    updateQuantity(change) {\n        this.quantity = Math.max(1, this.quantity + change)\n        const element = document.querySelector(`[data-id=${this.id}`)\n        const input = element.querySelector('input[data-action=\"quantity\"]')\n        input.value = this.quantity;\n        this.updateCart()\n    }\n\n    addToWishlist() {\n        const button = document.querySelector(`[data-id=${this.id}], wishlist-btn`)\n        button.textContent = \"‚ô•\"\n        button.style.color = \"#ef4444\"\n\n        this.showToast('Added to Whitelist')\n    }\n\n    showToast(message) {\n    const toast = document.createElement(\"div\")\n    toast.className = \"toast\"\n    toast.textContent = message\n    document.body.appendChild(toast)\n\n    setTimeout(() => toast.classList.add(\"show\"), 10)\n    setTimeout(() => {\n        toast.classList.remove(\"show\")\n        setTimeout(() => toast.remove(), 300)\n    }, 3000)\n  }\n}"],"file":"cart-item.dev.js"}