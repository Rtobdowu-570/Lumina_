{"version":3,"sources":["cart-item.js"],"names":["CartItem","modal","Modal","newModal","show","title","message","confirmText","cancelText","onConfirm","element","document","querySelector","id","classList","add","setTimeout","remove","updateCart","addEventListener","e","action","target","dataset","hide","window","dispatchEvent","CustomEvent","toast","createElement","className","textContent","body","appendChild"],"mappings":";;;;;;;AAAA;;;;;;;;IACMA,Q;;;;;;;;;6BAEK;AAAA;;AACP,UAAMC,KAAK,GAAG,IAAIC,YAAJ,EAAd;AACA,UAAMC,QAAQ,GAAGF,KAAK,CAACG,IAAN,CAAW;AAC1BC,QAAAA,KAAK,EAAE,aADmB;AAE1BC,QAAAA,OAAO,EAAE,2DAFiB;AAG1BC,QAAAA,WAAW,EAAE,QAHa;AAI1BC,QAAAA,UAAU,EAAE,QAJc;AAK1BC,QAAAA,SAAS,EAAE,qBAAM;AACf,cAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,sBAAoC,KAAI,CAACC,EAAzC,SAAhB;AACAH,UAAAA,OAAO,CAACI,SAAR,CAAkBC,GAAlB,CAAsB,UAAtB;AACAC,UAAAA,UAAU,CAAC,YAAM;AACfN,YAAAA,OAAO,CAACO,MAAR;;AACA,YAAA,KAAI,CAACC,UAAL;AACD,WAHS,EAGP,GAHO,CAAV;AAID;AAZyB,OAAX,CAAjB;AAeAf,MAAAA,QAAQ,CAACgB,gBAAT,CAA0B,OAA1B,EAAmC,UAACC,CAAD,EAAO;AACxC,YAAMC,MAAM,GAAGD,CAAC,CAACE,MAAF,CAASC,OAAT,CAAiBF,MAAhC;;AACA,YAAIA,MAAM,KAAK,QAAf,EAAyB;AACvBpB,UAAAA,KAAK,CAACuB,IAAN,CAAWrB,QAAX;AACD;AACF,OALD;AAMD;;;iCAEY;AACXsB,MAAAA,MAAM,CAACC,aAAP,CAAqB,IAAIC,WAAJ,CAAgB,cAAhB,CAArB;AACD;;;8BAESrB,O,EAAS;AACjB,UAAMsB,KAAK,GAAGjB,QAAQ,CAACkB,aAAT,CAAuB,KAAvB,CAAd;AACAD,MAAAA,KAAK,CAACE,SAAN,GAAkB,OAAlB;AACAF,MAAAA,KAAK,CAACG,WAAN,GAAoBzB,OAApB;AACAK,MAAAA,QAAQ,CAACqB,IAAT,CAAcC,WAAd,CAA0BL,KAA1B;AAEAZ,MAAAA,UAAU,CAAC;AAAA,eAAMY,KAAK,CAACd,SAAN,CAAgBC,GAAhB,CAAoB,MAApB,CAAN;AAAA,OAAD,EAAoC,EAApC,CAAV;AACAC,MAAAA,UAAU,CAAC,YAAM;AACfY,QAAAA,KAAK,CAACd,SAAN,CAAgBG,MAAhB,CAAuB,MAAvB;AACAD,QAAAA,UAAU,CAAC;AAAA,iBAAMY,KAAK,CAACX,MAAN,EAAN;AAAA,SAAD,EAAuB,GAAvB,CAAV;AACD,OAHS,EAGP,IAHO,CAAV;AAID","sourcesContent":["import {  Modal } from \"../components/modal.js\";\nclass CartItem {\n\n  remove() {\n    const modal = new Modal();\n    const newModal = modal.show({\n      title: \"Remove Item\",\n      message: \"Are you sure you want to remove this item from your cart?\",\n      confirmText: \"Remove\",\n      cancelText: \"Cancel\",\n      onConfirm: () => {\n        const element = document.querySelector(`[data-id=\"${this.id}\"]`);\n        element.classList.add(\"removing\");\n        setTimeout(() => {\n          element.remove();\n          this.updateCart();\n        }, 300);\n      },\n    });\n\n    newModal.addEventListener(\"click\", (e) => {\n      const action = e.target.dataset.action;\n      if (action === \"cancel\") {\n        modal.hide(newModal);\n      }\n    });\n  }\n\n  updateCart() {\n    window.dispatchEvent(new CustomEvent(\"cart-updated\"));\n  }\n\n  showToast(message) {\n    const toast = document.createElement(\"div\");\n    toast.className = \"toast\";\n    toast.textContent = message;\n    document.body.appendChild(toast);\n\n    setTimeout(() => toast.classList.add(\"show\"), 10);\n    setTimeout(() => {\n      toast.classList.remove(\"show\");\n      setTimeout(() => toast.remove(), 300);\n    }, 3000);\n  }\n}\n\nexport { CartItem };\n"],"file":"cart-item.dev.js"}