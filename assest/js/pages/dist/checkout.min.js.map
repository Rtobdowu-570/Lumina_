{"version":3,"sources":["checkout.js"],"names":["_pocketbase","require","checkAuth","isAuthenticated","window","href","displayUsername","user","getCurrentUser","querySelector","userName","name","textContent","model","logOut","pb","authStore","clear","document","addEventListener","logOutBtn","multiTabs","querySelectorAll","forEach","tab","tabType","classList","contains","t","remove"],"mappings":"aAAA,IAAAA,YAAAC,QAAA,wBAAA,SAAAC,aAGS,EAAAF,YAAAG,qBADTC,OAASF,SAAYG,KAAA,0BAIpB,SAAAC,kBAGG,IAAMC,EAAQC,iBADTF,EAAAA,SAAkBG,cAAA,eAEjBC,EAAAA,YAAAA,mBAGDH,EAAKI,KADND,EAAAE,YAAAL,EAAAI,KAEAD,EAASE,YAAcL,EAAKI,UAFhCD,EAOKE,YAAA,QAKT,SAASJ,iBAAT,OAASA,YAAAA,GAAAA,UAATK,MAIA,SAASC,SAATC,YAAAA,GAAAC,UAAAC,QACIF,OAAAA,SAAGC,KAAUC,mBAEhBC,SAAAC,iBAAA,mBAAA,WAGGjB,YADJgB,oBAGC,IAHDE,UAAAF,SAAAT,cAAA,YAKAW,UAAMA,iBAAqBX,QAAAA,WAC3BW,WAIA,IAAMC,UAAYH,SAASI,iBAAiB,qCAC5CD,UAAUE,QAAQ,SAAAC,GACdA,EAAIL,iBAAiB,QAAS,WACpBM,IAAAA,EAAcC,EAAAA,UAAUC,SAAS,kBAAoB,iBAAmB,kBAC9ET,SAASI,iBAAiB,IAAMG,GAASF,QAAQ,SAAAK,GAAA,OAAAA,EAACF,UAAAG,OAAA,YAAAL,EAAAE,UAAMA,IAAUG","file":"checkout.min.js","sourcesContent":["import { pb, isAuthenticated } from '../api/pocketbase.js';\n\nfunction checkAuth() {\n    if (!isAuthenticated()) {\n        window.location.href = '/public/auth/auth.html';\n    }\n}\n\nfunction displayUsername() {\n    const user =  getCurrentUser()\n    const userName = document.querySelector('.user-name');\n\n    if (isAuthenticated()) {\n      if(user.name) {\n        userName.textContent = user.name;\n      } else {\n        userName.textContent = user.user_name;\n      }\n    }\n    else {\n      userName.textContent = \"Guest\";\n}\n}\n\nfunction getCurrentUser() {\n    return pb.authStore.model;\n}\n\nfunction logOut() {\n    pb.authStore.clear(); \n    window.location.href = '/auth/login.html';\n}\n\ndocument.addEventListener('DOMContentLoaded',  () => {\n    checkAuth();\n    displayUsername();\n});\n\nconst logOutBtn = document.querySelector('.log-out');\nlogOutBtn.addEventListener('click', () => {\n    logOut();\n});\n\nconst multiTabs = document.querySelectorAll('.payment-option, .shipping-option');\nmultiTabs.forEach(tab => {\n    tab.addEventListener('click', () => {\n        const tabType = tab.classList.contains('payment-option') ? 'payment-option' : 'shipping-option';\n        document.querySelectorAll('.' + tabType).forEach(t => t.classList.remove('active'));\n        tab.classList.add('active');\n    });\n});"]}