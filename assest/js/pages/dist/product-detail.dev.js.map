{"version":3,"sources":["product-detail.js"],"names":["ProductDetail","productData","isWhitelisted","product","quantity","pb","authStore","isValid","window","location","href","userId","model","id","productId","collection","getFirstListItem","existing","update","create","user","showToast","dispatchEvent","CustomEvent","detail","console","error","btn","document","querySelector","textContent","classList","toggle","urlParams","URLSearchParams","search","get","getOne","getList","filter","category","relatedRecords","relatedProducts","items","renderProduct","setupEventListeners","getCurrentUser","userName","name","user_name","clear","addToCartBtn","qtyInput","addEventListener","parseInt","value","addToCart","relProducts","e","target","closest","dataset","relatedProduct","find","p","querySelectorAll","forEach","currentQty","wishlistBtn","addWhitelist","tabButtons","tabPanes","index","b","remove","pane","add","copyToClipboard","text","navigator","clipboard","writeText","then","err","copy","url","textToCopy","main","getImgUrl","item","image","files","getURL","relatedHtml","length","map","prod","rating","price","join","innerHTML","ProductCard","generateStars","originalPrice","description","reviews","getProduct","displayUserName","home","logOutBtn","logOut"],"mappings":"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","sourcesContent":["import { ProductCard } from \"../components/product-card.js\";\nimport { pb, isAuthenticated } from \"../api/pocketbase.js\";\nimport { UI } from \"./products.js\";\n\nclass ProductDetail extends ProductCard {\n  constructor(productData) {\n    super(productData);\n    this.productData = productData;\n    this.isWhitelisted = false;\n  }\n\n  async addToCart(product, quantity = 1) {\n    try {\n      if (!pb.authStore.isValid) {\n      window.location.href = \"auth.html\";\n      return;\n    }\n\n      const userId = pb.authStore.model.id;\n      const productId = product.id;\n\n      const existing = await pb\n        .collection(\"cart\")\n        .getFirstListItem(\n          `user=\"${pb.authStore.model.id}\" && product=\"${productId}\"`\n        )\n        .catch(() => null);\n\n      if (existing) {\n        await pb.collection(\"cart\").update(existing.id, {\n          quantity: existing.quantity + quantity,\n        });\n      } else {\n        await pb.collection(\"cart\").create({\n          user: userId,\n          product: product.id,\n          quantity: quantity,\n        });\n      }\n\n      this.showToast(\"Added to cart!\");\n      window.dispatchEvent(\n        new CustomEvent(\"product-added-to-cart\", { detail: this })\n      );\n    } catch (err) {\n      console.error(\"Error adding to cart:\", err);\n      this.showToast(\"Failed to add to cart\");\n    }\n  }\n\n  addWhitelist() {\n    this.isWhitelisted = !this.isWhitelisted;\n    const btn = document.querySelector(\".white-list\");\n    if(this.isWhitelisted) {\n        btn.textContent = \"â™¥\";\n    } else {\n        btn.textContent = \"â™¡\";\n    }\n    btn.classList.toggle(\"active\", this.isWhitelisted);\n    this.showToast(\n      this.isWhitelisted ? \"Added to Whitelist\" : \"Removed from Whitelist\"\n    );\n  }\n\n  async getProduct() {\n    \n    const urlParams = new URLSearchParams(window.location.search);\n    const productId = urlParams.get(\"id\");\n\n    if(!productId)\n         {\n        console.error(\"Product ID not found in URL\");\n        return;\n        }\n\n        try{\n            const product = await pb.collection('products').getOne(productId);\n            const relatedRecords = await pb.collection('products').getList(1, 4, {\n                filter: `category = \"${product.category}\" && id != \"${productId}\"`,\n            });\n\n            const productData = product;\n            const relatedProducts = relatedRecords.items;\n            this.renderProduct(product, relatedProducts || []);\n            this.setupEventListeners(product, relatedProducts || []);\n        }\n        catch(err) {\n            console.error(\"Error fetching product:\", err);\n            this.showToast(\"Failed to fetch product\");\n        }\n  }\n\n  displayUserName() {\n\n    const user =  this.getCurrentUser()\n    const userName = document.querySelector('.user-name');\n\n    if (isAuthenticated()) {\n      if(user.name) {\n        userName.textContent = user.name;\n      } else {\n        userName.textContent = user.user_name;\n      }\n    }\n    else {\n      userName.textContent = \"Guest\";\n    }\n  }\n\n  getCurrentUser() {\n    return pb.authStore.model;\n  }\n\n  logOut() {\n    pb.authStore.clear(); \n    window.location.href = 'index.html';\n  }\n\n  setupEventListeners(product, relatedProducts) {\n    const addToCartBtn = document.querySelector(\".btn-add-cart\");\n    const qtyInput = document.querySelector('.qty-input');\n\n    addToCartBtn.addEventListener(\"click\", () => {\n      const quantity = parseInt(qtyInput.value) || 1;\n      this.addToCart(product, quantity);\n    });\n\n    // for related products\n    const relProducts = document.querySelector('.related-products-grid');\n    relProducts.addEventListener('click', (e) => {\n        const btn = e.target.closest('.cart-btn');\n\n        if(btn) {\n            const id = btn.dataset.id;\n            const relatedProduct = relatedProducts.find(p => p.id === id);\n            if(relatedProduct) {\n                this.addToCart(relatedProduct, 1);\n            }\n        }\n    });\n\n    document.querySelectorAll('.qty-btn').forEach(btn => {\n        btn.addEventListener('click', () => {\n            let currentQty = parseInt(qtyInput.value) || 1;\n            if(btn.textContent === '+') {\n                currentQty += 1;\n            } else if(btn.textContent === '-' && currentQty > 1) {\n                currentQty -= 1;\n            }\n            qtyInput.value = currentQty;\n        })\n    })\n\n    const wishlistBtn = document.querySelector('.white-list');\n    wishlistBtn.addEventListener('click', () => {\n        this.addWhitelist(wishlistBtn);\n    })\n\n    const tabButtons = document.querySelectorAll('.tab-btn');\n    const tabPanes = document.querySelectorAll('.tab-pane');\n\n    tabButtons.forEach((btn, index) => {\n        btn.addEventListener('click', () => {\n            tabButtons.forEach(b => b.classList.remove('active'));\n            tabPanes.forEach(pane => pane.classList.remove('active'));\n\n            btn.classList.add('active');\n            tabPanes[index].classList.add('active');\n        })\n    })\n\n    function copyToClipboard(text) {\n        navigator.clipboard.writeText(text).then(() => {\n            this.showToast('Product link copied to clipboard!');\n        }).catch(err => {\n            console.error('Failed to copy: ', err);\n        });\n    }\n\n    const copy = document.querySelector('.copy')\n        copy.addEventListener('click', () => {\n            const url = 'http://127.0.0.1:5500/';\n            const textToCopy = `${url}product-detail.html?id=${product.id}`;\n            copyToClipboard(textToCopy);\n        });\n  }\n\n  renderProduct(product, relatedProducts) {\n        const main = document.querySelector(\".main-content\");\n        const getImgUrl = (item) => item.image ? pb.files.getURL(item, item.image) : '/assest/images/placeholder.png';\n\n\n        const relatedHtml = relatedProducts.length > 0 ?\n            relatedProducts.map(prod => {\n                return `\n                <a href=\"product-detail.html?id=${prod.id}\">\n                    <div class=\"product-card\"\">\n                        <div class=\"product-image-container\">\n                            <img src=${getImgUrl(prod)} alt=\"${prod.name}\">\n                            <div class=\"product-actions\">\n                                <button class=\"cart-btn\" data-id=\"${prod.id}>Add to Cart\n                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                                <path d=\"M2 2H3.5L4.5 4M4.5 4L6.5 14H16.5L18.5 6H4.5Z\" stroke=\"currentColor\" stroke-width=\"2\"/>\n                                <circle cx=\"7\" cy=\"18\" r=\"1\" fill=\"currentColor\"/>\n                                <circle cx=\"16\" cy=\"18\" r=\"1\" fill=\"currentColor\"/>\n                                </svg>\n                                </button>\n                            </div>\n                        </div>\n                        <div class=\"product-info\">\n                            <div class=\"product-category\">${prod.category}</div>\n                            <div class=\"product-name\">${prod.name}</div>\n                            <div class=\"product-rating\">\n                                <span class=\"rating-value\">${prod.rating}</span>\n                            </div>\n                            <div class=\"product-price\">\n                                <span class=\"current-price\">${prod.price}</span>\n                            </div>\n                        </div>\n                    </div>\n                </a>\n                `}).join('') :\n            '<p>No related products found.</p>';\n\n        main.innerHTML = `\n            <div class=\"breadcrumb\">\n                <a href=\"dashboard.html\">Home</a>\n                <span>/</span>\n                <a href=\"products.html\">Products</a>\n                <span>/</span>\n                <span class=\"current\">${product.name}</span>\n            </div>\n\n            <div class=\"product-detail-layout\">\n                <div class=\"product-images\">\n                    <div class=\"main-image\">\n                        <img src=\"${getImgUrl(product)}\" alt=\"ProductName\">\n                    </div>\n                </div>\n\n                <div class=\"product-details\">\n                    <div class=\"product-header\">\n                        <div>\n                            <h1 class=\"product-title\">${product.name}</h1>\n                            <div class=\"product-rating-detail\">\n                                <div class=\"star\">${new ProductCard(product).generateStars()}</div>\n                                <span class=\"rating-text\">${product.rating}</span>\n                            </div>\n                        </div>\n                        <div class=\"product-actions-header\">\n                            <button class=\"icon-btn white-list\">â™¡</button>\n                            <button class=\"icon-btn\" copy>ðŸ”—</button>\n                        </div>\n                    </div>\n\n                    <div class=\"product-price-detail\">\n                        <span class=\"current-price\">${product.price}</span>\n                        <span class=\"original-price\">${product.originalPrice}</span>\n                        <span class=\"save-badge\">Save ${product.originalPrice - product.price}</span>\n                    </div>\n\n                    <p class=\"product-description\">${product.description} </p>\n\n\n                    <div class=\"product-purchase\">\n                        <div class=\"quantity-selector\">\n                            <button class=\"qty-btn\">-</button>\n                            <input type=\"number\" value=\"1\" min=\"1\" title=\"qty-btn\" class=\"qty-input\"/>\n                            <button class=\"qty-btn\">+</button>\n                        </div>\n                        <button class=\"btn-add-cart\">Add to Cart \n                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                            <path d=\"M2 2H3.5L4.5 4M4.5 4L6.5 14H16.5L18.5 6H4.5Z\" stroke=\"currentColor\" stroke-width=\"2\"/>\n                            <circle cx=\"7\" cy=\"18\" r=\"1\" fill=\"currentColor\"/>\n                            <circle cx=\"16\" cy=\"18\" r=\"1\" fill=\"currentColor\"/></svg>\n                        </button>\n                    </div>\n\n                    <div class=\"product-info-section\">\n                        <div class=\"info-item\">\n                            <span class=\"info-label\">Stock:</span>\n                            <span class=\"info-value in-stock\">${product.quantity > 0 ? \"In Stock\" : \"Out of Stock\"}</span>\n                        </div>\n                        <div class=\"info-item\">\n                            <span class=\"info-label\">Warranty:</span>\n                            <span class=\"info-value\">2 Years</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"product-tabs\">\n                <div class=\"tabs-header\">\n                    <button class=\"tab-btn active\">Reviews</button>\n                    <button class=\"tab-btn\">Shipping Info</button>\n                </div>\n                <div class=\"tabs-content\">\n                    <div id=\"reviews\" class=\"tab-pane active\">\n                        <div class=\"reviews-section\">\n                            <div class=\"reviews-summary\">\n                                <div class=\"overall-rating\">\n                                    <div class=\"rating-number\">${product.rating}</div>\n                                    <div class=\"rating-stars\">${new ProductCard(product).generateStars()}</div>\n                                    <div class=\"reviews-count\">Based on ${product.reviews} reviews</div>\n                                </div>\n                                <button class=\"write-review-btn btn\">Write Review</button>\n                            </div>\n                            <div class=\"review-item\">\n                                <div class=\"review-header\">\n                                    <strong></strong>\n                                    <span class=\"review-date\"></span>\n                                </div>\n                                <div class=\"review-rating\"></div>\n                                <p class=\"review-text\"></p>\n                            </div>\n                        </div>\n                    </div>\n                    <div id=\"shipping\" class=\"tab-pane\">\n                        <div class=\"shipping-info\">\n                            <h3>Free Shipping</h3>\n                            <p>Free delivery on orders over $50. Estimated delivery: 3-5 business days.</p>\n                            <h3>Returns</h3>\n                            <p>30-day return policy. Free returns for unwanted items in original condition.</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <section class=\"related-products\">\n                <h2 class=\"section-title\">You Might Also Like</h2>\n                <div class=\"related-products-grid\">\n                ${relatedHtml}\n            </div>\n            </section>\n        `;\n    }\n}\n\n const detail = new ProductDetail();\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    detail.getProduct();\n    detail.displayUserName();\n});\n\n// Event listeners \nconst home  = document.querySelector('.logo-text');\nhome.addEventListener('click', () => {\n    window.location.href = '/public/index.html';\n});\n\nconst logOutBtn = document.querySelector('.log-out');\nlogOutBtn.addEventListener('click', () => {\n    detail.logOut();\n});\n\n"],"file":"product-detail.dev.js"}