{"version":3,"sources":["products.js"],"names":["_productCard","require","_pocketbase","UI","category","document","querySelectorAll","Array","from","forEach","index","style","display","overlay","createElement","className","card","header","headerContent","categories","createElementNS","setAttribute","iconSvg","iconPath","appendChild","iconDiv","titleDiv","title","description","textContent","append","closeButton","addEventListener","remove","closeSvg","line1","line2","content","form","nameGroup","nameLabel","nameInput","type","required","imageGroup","imageLabelOuter","uploadContainer","uploadLabel","uploadSvg","rect","circle","polyline","uploadText","uploadSubtext","fileInput","name","file","accept","categoryGroup","categoryLabel","size","categorySelect","defaultOption","value","option","id","row","priceGroup","priceLabel","priceWrapper","priceSymbol","priceInput","quantityGroup","quantityLabel","quantityInput","descGroup","descLabel","optionalSpan","textarea","actions","submitBtn","replace","cancelBtn","insertBefore","querySelector","firstChild","currentUserId","pb","data","image","price","quantity","formData","console","placeholder","min","rows","page","perPage","products","productsGrid","classList","productCard","nextBtn","body","currentPage","e","regeneratorRuntime","async","_context","prev","next","preventDefault","files","FormData","error","awrap","collection","create","log","t0","details","stop","getList","sort","getElementById","filter","productData","ProductCard","render","counts","response","totalItems","totalPages","disabled","_context3","getProducts","_context4","labels","concat","_context5","progress","rangeMin","inputMin","setArea","priceGap","getFullList","rangeMax","slug","p","toLowerCase","trim","inputMax","c","setMinInput","minInput","parseInt","cat","label","getAttribute","span","undefined","_context6","this","window","location","sliderMaxValue","max","userName","user_name","rightPos","leftPos","right","selectedOption","minVal","authStore","href","Number","isNaN","maxVal","selectedCategories","filterProducts","query","pbQueries","cards","cardCategory","dataset","categoryMatch","length","ascending","descending","popular","maxInput","select","isAuthenticated","addProduct","user","toast","map","cb","closest","minPrice","maxPrice","parseFloat","includes","priceMatch","rating","newest","cardRating","_context8","target","sent","abrupt","checkboxes","checkbox","checked","innerHTML","setTimeout","lowerQuery","left","totalElement","priceRange","reduceCategoryList","_context10","addProductBtn","createProduct","showMore","showLess","logoutBtn","logout","reset","searchInput","searchProducts","filterProductsByPocketBase","ratingLabels","filterByRating","ratingAttr"],"mappings":"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","file":"products.min.js","sourcesContent":["import { ProductCard } from \"../components/product-card.js\";\nimport { pb,  isAuthenticated, getCurrentUser } from \"../api/pocketbase.js\"\n\nclass UI {\n\n  static reduceCategoryList() {\n  let category = document.querySelectorAll(\".category\");\n  const categories = Array.from(category);\n\n  categories.forEach((category,index) => {\n    if(index >= 10) {\n      category.style.display = \"none\";\n      }\n    })\n  } \n\nstatic async addProduct() {\nconst overlay = document.createElement('div');\noverlay.className = 'product-form-overlay';\n\nconst card = document.createElement('div');\ncard.className = 'product-form-card';\n\nconst header = document.createElement('div');\nheader.className = 'product-form-header';\n\nconst headerContent = document.createElement('div');\nheaderContent.className = 'product-form-header-content';\n\nconst iconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\niconSvg.setAttribute('width', '24');\niconSvg.setAttribute('height', '24');\niconSvg.setAttribute('viewBox', '0 0 24 24');\niconSvg.setAttribute('fill', 'none');\niconSvg.setAttribute('stroke', 'currentColor');\niconSvg.setAttribute('stroke-width', '2');\niconSvg.setAttribute('stroke-linecap', 'round');\niconSvg.setAttribute('stroke-linejoin', 'round');\n\nconst iconPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\niconPath.setAttribute('d', 'M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z');\niconSvg.appendChild(iconPath);\n\nconst iconDiv = document.createElement('div');\niconDiv.className = 'product-form-icon';\niconDiv.appendChild(iconSvg);\n\nconst titleDiv = document.createElement('div');\n\nconst title = document.createElement('h2');\ntitle.className = 'product-form-title';\ntitle.textContent = 'Add New Product';\n\nconst description = document.createElement('p');\ndescription.className = 'product-form-description';\ndescription.textContent = 'Fill in the details to add a product to your store';\n\ntitleDiv.append(title, description);\n\nheaderContent.append(iconDiv, titleDiv);\n\nconst closeButton = document.createElement('button');\ncloseButton.className = 'product-form-close';\ncloseButton.type = 'button';\ncloseButton.setAttribute('aria-label', 'Close');\n\ncloseButton.addEventListener('click', () => {\n    const overlay = document.querySelector('.product-form-overlay');\n    overlay.classList.remove('active');\n  });\n\nconst closeSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\ncloseSvg.setAttribute('width', '24');\ncloseSvg.setAttribute('height', '24');\ncloseSvg.setAttribute('viewBox', '0 0 24 24');\ncloseSvg.setAttribute('fill', 'none');\ncloseSvg.setAttribute('stroke', 'currentColor');\ncloseSvg.setAttribute('stroke-width', '2');\ncloseSvg.setAttribute('stroke-linecap', 'round');\ncloseSvg.setAttribute('stroke-linejoin', 'round');\n\nconst line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\nline1.setAttribute('x1', '18');\nline1.setAttribute('y1', '6');\nline1.setAttribute('x2', '6');\nline1.setAttribute('y2', '18');\n\nconst line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\nline2.setAttribute('x1', '6');\nline2.setAttribute('y1', '6');\nline2.setAttribute('x2', '18');\nline2.setAttribute('y2', '18');\n\ncloseSvg.append(line1, line2);\ncloseButton.appendChild(closeSvg);\n\nheader.append(headerContent, closeButton);\n\nconst content = document.createElement('div');\ncontent.className = 'product-form-content';\n\nconst form = document.createElement('form');\n\nform.className = 'product-form';\nconst nameGroup = document.createElement('div');\nnameGroup.className = 'form-group';\n\nconst nameLabel = document.createElement('label');\nnameLabel.className = 'form-label';\nnameLabel.setAttribute('for', 'productName');\nnameLabel.textContent = 'Product Name';\n\nconst nameInput = document.createElement('input');\nnameInput.type = 'text';\nnameInput.id = 'productName';\nnameInput.className = 'form-input';\nnameInput.placeholder = 'Enter product name';\nnameInput.required = true;\nnameInput.name = 'name';\n\nnameGroup.append(nameLabel, nameInput);\n\nconst imageGroup = document.createElement('div');\nimageGroup.className = 'form-group';\n\nconst imageLabelOuter = document.createElement('label');\nimageLabelOuter.className = 'form-label';\nimageLabelOuter.textContent = 'Product Image';\n\nconst uploadContainer = document.createElement('div');\nuploadContainer.className = 'image-upload-container';\n\nconst uploadLabel = document.createElement('label');\nuploadLabel.className = 'image-upload-label';\n\nconst uploadSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\nuploadSvg.setAttribute('width', '40');\nuploadSvg.setAttribute('height', '40');\nuploadSvg.setAttribute('viewBox', '0 0 24 24');\nuploadSvg.setAttribute('fill', 'none');\nuploadSvg.setAttribute('stroke', 'currentColor');\nuploadSvg.setAttribute('stroke-width', '2');\nuploadSvg.setAttribute('stroke-linecap', 'round');\nuploadSvg.setAttribute('stroke-linejoin', 'round');\n\nconst rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\nrect.setAttribute('x', '3');\nrect.setAttribute('y', '3');\nrect.setAttribute('width', '18');\nrect.setAttribute('height', '18');\nrect.setAttribute('rx', '2');\nrect.setAttribute('ry', '2');\n\nconst circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\ncircle.setAttribute('cx', '8.5');\ncircle.setAttribute('cy', '8.5');\ncircle.setAttribute('r', '1.5');\n\nconst polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');\npolyline.setAttribute('points', '21 15 16 10 5 21');\n\nuploadSvg.append(rect, circle, polyline);\n\nconst uploadText = document.createElement('span');\nuploadText.className = 'upload-text';\nuploadText.textContent = 'Click to upload image';\n\nconst uploadSubtext = document.createElement('span');\nuploadSubtext.className = 'upload-subtext';\nuploadSubtext.textContent = 'PNG, JPG up to 5MB';\n\nconst fileInput = document.createElement('input');\nfileInput.type = 'file';\nfileInput.className = 'hidden-input';\nfileInput.accept = 'image/*';\nfileInput.name = 'image';\n\nfileInput.addEventListener('change', () => {\n  const file = fileInput.files[0];\n   if (file) {\n    uploadText.textContent = file.name;\n    uploadSubtext.textContent = file.size + ' bytes';\n    uploadSvg.style.display = 'none';\n   }\n})\n\nuploadLabel.append(uploadSvg, uploadText, uploadSubtext, fileInput);\nuploadContainer.appendChild(uploadLabel);\nimageGroup.append(imageLabelOuter, uploadContainer);\n\nconst categoryGroup = document.createElement('div');\ncategoryGroup.className = 'form-group';\n\nconst categoryLabel = document.createElement('label');\ncategoryLabel.className = 'form-label';\ncategoryLabel.setAttribute('for', 'category');\ncategoryLabel.textContent = 'Category';\n\nconst categorySelect = document.createElement('select');\ncategorySelect.id = 'category';\ncategorySelect.className = 'form-select';\ncategorySelect.required = true;\ncategorySelect.name = 'category';\n\nconst defaultOption = document.createElement('option');\ndefaultOption.value = '';\ndefaultOption.textContent = 'Select a category';\n\nconst categories = [\n  'Travel & Luggage',\n  'Shoes & Footwear',\n  'Kitchen & Dining',\n  'Tools & Home Improvement',\n  'Musical Instruments',\n  'Arts & Crafts',\n  'Fitness Equipment',\n  'Watches',\n  'Bags & Handbags',\n  'Gardening & Outdoor Living',\n  'Video Games & Consoles',\n  'Eyewear & Sunglasses',\n  'Bedding & Bath',\n  'Camping & Hiking',\n  'Party Supplies',\n  'Appliances',\n  'Mobile Phones & Accessories',\n  'Computers & Laptops',\n  'Lighting & Fans',\n  'Men\\'s Clothing',\n  'Women\\'s Clothing',\n  'Kids\\' Clothing',\n  'Skincare & Makeup',\n  'Vitamins & Supplements',\n  'Cycling & Bikes',\n  'Board Games & Puzzles',\n  'Movies & TV Shows',\n  'Beverages & Drinks',\n  'Pet Food & Treats',\n  'Home Storage & Organization',\n  'Baby Essentials',\n  'Fine Jewelry',\n  'Car Parts & Accessories',\n  'Stationery & School Supplies',\n  'Outdoor Power Equipment',\n  'Electronics',\n  'Fashion & Apparel',\n  'Home & Garden',\n  'Beauty & Personal Care',\n  'Health & Wellness',\n  'Sports & Outdoors',\n  'Toys & Games',\n  'Books & Media',\n  'Food & Grocery',\n  'Pet Supplies',\n  'Furniture & Decor',\n  'Baby & Kids',\n  'Jewelry & Accessories',\n  'Automotive',\n  'Office Supplies'\n];\n\ncategories.forEach((category) => {\n  const option = document.createElement('option');\n  option.value = category.toLowerCase().replace(/ & /g, '-').replace(/[^a-z0-9-]/g, '');\n  option.textContent = category;\n  option.dataset.category = category;\n  categorySelect.appendChild(option);\n});\n\n\ncategorySelect.appendChild(defaultOption); \ncategorySelect.insertBefore(defaultOption, categorySelect.firstChild);\n\ncategoryGroup.append(categoryLabel, categorySelect);\n\nconst row = document.createElement('div');\nrow.className = 'form-row';\n\nconst priceGroup = document.createElement('div');\npriceGroup.className = 'form-group';\n\nconst priceLabel = document.createElement('label');\npriceLabel.className = 'form-label';\npriceLabel.setAttribute('for', 'price');\npriceLabel.textContent = 'Price';\n\nconst priceWrapper = document.createElement('div');\npriceWrapper.className = 'price-input-wrapper';\n\nconst priceSymbol = document.createElement('span');\npriceSymbol.className = 'price-symbol';\npriceSymbol.textContent = '$';\n\nconst priceInput = document.createElement('input');\npriceInput.type = 'number';\npriceInput.id = 'price';\npriceInput.className = 'form-input price-input';\npriceInput.placeholder = '0.00';\npriceInput.step = '0.01';\npriceInput.min = '0';\npriceInput.required = true;\npriceInput.name = 'price';\n\npriceWrapper.append(priceSymbol, priceInput);\npriceGroup.append(priceLabel, priceWrapper);\n\nconst quantityGroup = document.createElement('div');\nquantityGroup.className = 'form-group';\n\nconst quantityLabel = document.createElement('label');\nquantityLabel.className = 'form-label';\nquantityLabel.setAttribute('for', 'quantity');\nquantityLabel.textContent = 'Quantity';\n\nconst quantityInput = document.createElement('input');\nquantityInput.type = 'number';\nquantityInput.id = 'quantity';\nquantityInput.className = 'form-input';\nquantityInput.placeholder = '0';\nquantityInput.min = '0';\nquantityInput.required = true;\nquantityInput.name = 'quantity';\n\nquantityGroup.append(quantityLabel, quantityInput);\n\nrow.append(priceGroup, quantityGroup);\n\nconst descGroup = document.createElement('div');\ndescGroup.className = 'form-group';\n\nconst descLabel = document.createElement('label');\ndescLabel.className = 'form-label';\ndescLabel.setAttribute('for', 'description');\ndescLabel.textContent = 'Description';\n\nconst optionalSpan = document.createElement('span');\noptionalSpan.className = 'optional-text';\noptionalSpan.textContent = '(Optional)';\n\ndescLabel.appendChild(optionalSpan);\n\nconst textarea = document.createElement('textarea');\ntextarea.id = 'description';\ntextarea.className = 'form-textarea';\ntextarea.rows = 4;\ntextarea.placeholder = 'Enter product description...';\ntextarea.name = 'description';\n\ndescGroup.append(descLabel, textarea);\n\nconst actions = document.createElement('div');\nactions.className = 'form-actions';\n\nconst submitBtn = document.createElement('button');\nsubmitBtn.type = 'submit';\nsubmitBtn.className = 'btn-submit';\nsubmitBtn.textContent = 'Add Product';\n\n\nconst cancelBtn = document.createElement('button');\ncancelBtn.type = 'button';\ncancelBtn.className = 'btn-cancel';\ncancelBtn.textContent = 'Cancel';\n\ncancelBtn.addEventListener('click', () => {\n    const overlay = document.querySelector('.product-form-overlay');\n    overlay.classList.remove('active');\n  });\n\nactions.append(submitBtn, cancelBtn);\n\n// Assemble form\nform.append(\n  imageGroup,\n  nameGroup,\n  categoryGroup,\n  row,\n  descGroup,\n  actions\n);\n\ncontent.appendChild(form);\ncard.append(header, content);\noverlay.appendChild(card);\n\ndocument.body.appendChild(overlay);\n\nconst currentUserId = pb.authStore.model.id;\n\n    form.addEventListener('submit', async (e) => {\n      e.preventDefault();\n      const data = {\n        image : fileInput.files[0],\n        name : nameInput.value,\n        category : categorySelect.value,\n        price : priceInput.value,\n        quantity : quantityInput.value,\n        description : textarea.value\n      }\n\n      const formData = new FormData();\n      formData.append('image', data.image);\n      formData.append('name', data.name);\n      formData.append('category', data.category);\n      formData.append('price', data.price);\n      formData.append('quantity', data.quantity);\n      formData.append('description', data.description);\n      formData.append('seller', currentUserId);\n\n      try {\n        await pb.collection('products').create(formData);\n        console.log('Product added successfully');\n      } catch(err) {\n        console.log('ERROR', err.details)\n      }\n\n      const overlay = document.querySelector('.product-form-overlay');\n      overlay.classList.remove('active');\n\n    })\n  }\n\n  static async getProducts() {\n\n    let page = 1;\n    let currentPage = 1;\n    const perPage = 30;\n\n    try {\n            const products = await pb.collection('products').getList(page, perPage, {\n              sort: '-created',\n            });\n            const productsGrid = document.getElementById('products-grid');\n            if (!productsGrid) return;\n\n            if (currentPage === 1) productsGrid.innerHTML = '';\n            products.items.forEach(productData => {\n                const productCard = new ProductCard(productData);\n                productsGrid.appendChild(productCard.render());\n            });\n\n            const nextBtn = document.querySelector('.next');\n            if (page >= products.totalPages) {\n              nextBtn.disabled = true;\n            } else {\n              nextBtn.disabled = false;\n            }\n\n            nextBtn.addEventListener('click', async () => {\n              if (page < products.totalPages) {\n                page++;\n                currentPage++;\n                UI.getProducts();\n              }\n            });\n        } catch (err) {\n            console.error(\"Failed to load products:\", err);\n        }\n  }\n\n  static async getCategoryCount() {\n   const categories = [\n  'Travel & Luggage',\n  'Shoes & Footwear',\n  'Kitchen & Dining',\n  'Tools & Home Improvement',\n  'Musical Instruments',\n  'Arts & Crafts',\n  'Fitness Equipment',\n  'Watches',\n  'Bags & Handbags',\n  'Gardening & Outdoor Living',\n  'Video Games & Consoles',\n  'Eyewear & Sunglasses',\n  'Bedding & Bath',\n  'Camping & Hiking',\n  'Party Supplies',\n  'Appliances',\n  'Mobile Phones & Accessories',\n  'Computers & Laptops',\n  'Lighting & Fans',\n  'Men\\'s Clothing',\n  'Women\\'s Clothing',\n  'Kids\\' Clothing',\n  'Skincare & Makeup',\n  'Vitamins & Supplements',\n  'Cycling & Bikes',\n  'Board Games & Puzzles',\n  'Movies & TV Shows',\n  'Beverages & Drinks',\n  'Pet Food & Treats',\n  'Home Storage & Organization',\n  'Baby Essentials',\n  'Fine Jewelry',\n  'Car Parts & Accessories',\n  'Stationery & School Supplies',\n  'Outdoor Power Equipment',\n  'Electronics',\n  'Fashion & Apparel',\n  'Home & Garden',\n  'Beauty & Personal Care',\n  'Health & Wellness',\n  'Sports & Outdoors',\n  'Toys & Games',\n  'Books & Media',\n  'Food & Grocery',\n  'Pet Supplies',\n  'Furniture & Decor',\n  'Baby & Kids',\n  'Jewelry & Accessories',\n  'Automotive',\n  'Office Supplies'\n];\n   const counts = {};\n\n   for(const category of categories) {\n    try{\n      const response = await pb.collection('products').getList( 1, 1, {\n        filter: `category=\"${category}\"`\n      })\n      counts[category] = response.totalItems;\n    } catch(err) {\n      console.error(\"Failed to get category count:\", err);\n      counts[category] = 0;\n    }\n   }\n   return counts;\n  }\n \n  \n  static async getCategoryCount() {\n    const categories = [\n      'Travel & Luggage',\n      'Shoes & Footwear',\n      'Kitchen & Dining',\n      'Tools & Home Improvement',\n      'Musical Instruments',\n      'Arts & Crafts',\n      'Fitness Equipment',\n      'Watches',\n      'Bags & Handbags',\n      'Gardening & Outdoor Living',\n      'Video Games & Consoles',\n      'Eyewear & Sunglasses',\n      'Bedding & Bath',\n      'Camping & Hiking',\n      'Party Supplies',\n      'Appliances',\n      'Mobile Phones & Accessories',\n      'Computers & Laptops',\n      'Lighting & Fans',\n      \"Men's Clothing\",\n      \"Women's Clothing\",\n      \"Kids' Clothing\",\n      'Skincare & Makeup',\n      'Vitamins & Supplements',\n      'Cycling & Bikes',\n      'Board Games & Puzzles',\n      'Movies & TV Shows',\n      'Beverages & Drinks',\n      'Pet Food & Treats',\n      'Home Storage & Organization',\n      'Baby Essentials',\n      'Fine Jewelry',\n      'Car Parts & Accessories',\n      'Stationery & School Supplies',\n      'Outdoor Power Equipment',\n      'Electronics',\n      'Fashion & Apparel',\n      'Home & Garden',\n      'Beauty & Personal Care',\n      'Health & Wellness',\n      'Sports & Outdoors',\n      'Toys & Games',\n      'Books & Media',\n      'Food & Grocery',\n      'Pet Supplies',\n      'Furniture & Decor',\n      'Baby & Kids',\n      'Jewelry & Accessories',\n      'Automotive',\n      'Office Supplies'\n    ];\n\n    const counts = {};\n\n    try {\n      const products = await pb.collection('products').getFullList();\n      products.forEach(p => {\n        const raw = p.category || '';\n        const slug = raw.toLowerCase().trim().replace(/\\s+/g, '-').replace(/&/g, 'and').replace(/[^a-z0-9-]/g, '');\n        counts[slug] = (counts[slug] || 0) + 1;\n      });\n\n      // ensure all sidebar categories are present with at least 0\n      categories.forEach(c => {\n        const slug = c.toLowerCase().trim().replace(/\\s+/g, '-').replace(/&/g, 'and').replace(/[^a-z0-9-]/g, '');\n        counts[slug] = counts[slug] || 0;\n      });\n\n      // update DOM counts\n      const labels = document.querySelectorAll('.checkbox-item.category');\n      labels.forEach(label => {\n        const cat = label.getAttribute('data-category');\n        const span = label.querySelector('.checkbox-count');\n        if (span) span.textContent = counts[cat] !== undefined ? counts[cat] : 0;\n      });\n\n    } catch (err) {\n      console.error('Failed to get category count:', err);\n    }\n\n    return counts;\n  }\n\n\n  static async loadNextPage() {\n    this.currentPage++;\n    await this.getProducts(this.currentPage);\n  }\n\n  static increaseCategoryList() {\n    let category = document.querySelectorAll(\".category\");\n    const categories = Array.from(category);\n\n  categories.forEach((category, index) => {\n    if(index = categories.length - 1) {\n      category.style.display = \"block\";\n      }\n      else {\n      category.style.display = \"none\";\n    }\n    })\n  }\n\n    static priceRange() {\n    const rangeMin = document.querySelector('.range-min');\n    const rangeMax = document.querySelector('.range-max');\n    const inputMin = document.querySelector('.input-min');\n    const inputMax = document.querySelector('.input-max');\n    const progress = document.querySelector('.price-slider .range-track'); \n\n    // If any of the required elements are missing on the page, bail out.\n    if (!rangeMin || !rangeMax || !inputMin || !inputMax || !progress) return;\n\n    const sliderMaxValue = parseInt(rangeMax.max) || 1000;\n    let priceGap = 1000; \n\n    const setArea = () => {\n      const leftPos = (rangeMin.value / sliderMaxValue) * 100;\n      const rightPos = 100 - (rangeMax.value / sliderMaxValue) * 100;\n        \n      progress.style.left = leftPos + \"%\";\n      progress.style.right = rightPos + \"%\";\n    };\n\n    function slideMin() {\n      let minVal = parseInt(rangeMin.value);\n      let maxVal = parseInt(rangeMax.value);\n\n      if (Number.isNaN(minVal) || Number.isNaN(maxVal)) return;\n\n      if (maxVal - minVal < priceGap) {\n        rangeMin.value = maxVal - priceGap;\n      }\n      inputMin.value = rangeMin.value;\n      setArea();\n      UI.filterProducts();\n    }\n\n    function slideMax() {\n      let minVal = parseInt(rangeMin.value);\n      let maxVal = parseInt(rangeMax.value);\n\n      if (Number.isNaN(minVal) || Number.isNaN(maxVal)) return;\n\n      if (maxVal - minVal < priceGap) {\n        rangeMax.value = minVal + priceGap;\n      }\n      inputMax.value = rangeMax.value;\n      setArea();\n      UI.filterProducts();\n    }\n\n    function setMinInput() {\n      let minInput = parseInt(inputMin.value);\n      if (Number.isNaN(minInput)) return;\n      if (minInput >= (parseInt(rangeMax.value) - priceGap)) {\n        minInput = parseInt(rangeMax.value) - priceGap;\n        inputMin.value = minInput;\n      }\n      rangeMin.value = minInput;\n      setArea();\n      UI.filterProducts();\n    }\n\n    function setMaxInput() {\n      let maxInput = parseInt(inputMax.value);\n      if (Number.isNaN(maxInput)) return;\n      if (maxInput <= (parseInt(rangeMin.value) + priceGap)) {\n        maxInput = parseInt(rangeMin.value) + priceGap;\n        inputMax.value = maxInput;\n      }\n      rangeMax.value = maxInput;\n      setArea();\n      UI.filterProducts();\n    }\n\n    rangeMin.addEventListener('input', slideMin);\n    rangeMax.addEventListener('input', slideMax);\n    inputMin.addEventListener('change', setMinInput);\n    inputMax.addEventListener('change', setMaxInput);\n\n    setArea();\n  }\n\n  static createProduct() {\n    if(isAuthenticated()) {\n      UI.addProduct();\n    } else {\n      window.location.href = '/public/auth/auth.html';\n    }\n  }\n\n  static displayUserName() {\n\n    const user =  getCurrentUser()\n    const userName = document.querySelector('.user-name');\n\n    if (isAuthenticated()) {\n      if(user.name) {\n        userName.textContent = user.name;\n      } else {\n        userName.textContent = user.user_name;\n      }\n    }\n    else {\n      userName.textContent = \"Guest\";\n    }\n  }\n\n  static logout() {\n    pb.authStore.clear(); \n    window.location.href = 'index.html';\n}\n\n\nstatic filterProducts() {\n    const selectedCategories = Array.from(document.querySelectorAll('.category input[type=\"checkbox\"]:checked'))\n      .map(cb => cb.closest('.category').dataset.category);\n    const minPrice = parseInt(document.querySelector('.input-min').value);\n    const maxPrice = parseInt(document.querySelector('.input-max').value);\n    const cards = document.querySelectorAll('.product-cards');\n\n    cards.forEach(card => {\n        const cardCategory = card.dataset.category;\n        const price = parseFloat(card.dataset.price);\n        const categoryMatch = selectedCategories.length === 0 || selectedCategories.includes(cardCategory);\n        const priceMatch = price >= minPrice && price <= maxPrice;\n        card.style.display = categoryMatch && priceMatch ? 'block' : 'none';\n    });\n  }\n\n  static filterProductsByPocketBase() {\n    const pbQueries = {\n      newest: { sort: '-created' },\n      ascending: { sort: '+price' },\n      descending: { sort: '-price' },\n      popular: { sort: '-quantity' },\n      rated: { sort: '-rating' }\n    };\n\n    const select = document.querySelector('.sort-select');\n    if (!select) return;\n    \n    select.addEventListener('change', async (e) => {\n      const selectedOption = e.target.value;\n      const query = pbQueries[selectedOption] || {};\n\n      try{\n        const response = await pb.collection('products').getList(1, 30, query);\n        const productsGrid = document.getElementById('products-grid');\n        if (!productsGrid) return;\n\n        productsGrid.innerHTML = '';\n        response.items.forEach(productData => {\n            const productCard = new ProductCard(productData);\n            productsGrid.appendChild(productCard.render());\n        });\n\n      } catch(err) {\n        console.error(\"Failed to load products:\", err);\n        const productsGrid = document.getElementById('products-grid');\n        productsGrid.innerHTML = '';\n        const toast = document.createElement(\"div\");\n        toast.className = \"toast show\";\n        toast.innerHTML = \"Error loading products. Please try again later.\";\n        document.body.appendChild(toast);\n        setTimeout(() => {\n          toast.remove();\n        }, 2000)\n      }\n  });\n}\n\nstatic filterByRating(rating) {\n  const min = parseFloat(rating);\n    const cards = document.querySelectorAll('.product-cards');\n    if (Number.isNaN(min)) {\n      cards.forEach(card => card.style.display = '');\n      return;\n    }\n\n    cards.forEach(card => {\n        const cardRating = parseFloat(card.dataset.rating) || 0;\n        if(cardRating >= min) {\n            card.style.display = 'block';\n        } else {\n            card.style.display = 'none';\n        }\n    });\n}\n\n  static resetFilters() {\n    const cards = document.querySelectorAll('.product-cards');\n    const checkboxes = document.querySelectorAll('.category input[type=\"checkbox\"]');\n    checkboxes.forEach(checkbox => {\n        checkbox.checked = false;\n    });\n\n    document.querySelector('.input-min').value = document.querySelector('.range-min').min;\n    document.querySelector('.input-max').value = document.querySelector('.range-max').max;\n    document.querySelector('.range-min').value = document.querySelector('.range-min').min;\n    document.querySelector('.range-max').value = document.querySelector('.range-max').max;\n    const progress = document.querySelector('.price-slider .range-track');\n    progress.style.left = \"0%\";\n    progress.style.right = \"0%\";\n\n    cards.forEach(card => {\n        card.style.display = 'block';\n    });\n  }\n\n  // search\n  static searchProducts(query) {\n    const cards = document.querySelectorAll('.product-cards');\n    const lowerQuery = query.toLowerCase();\n\n    cards.forEach(card => {\n        const name = card.dataset.name.toLowerCase();\n        if(name.includes(lowerQuery)) {\n        card.style.display = 'block';\n    } else {\n        card.style.display = 'none';\n        }\n    })\n  }\n\n  static async getTotalProducts() {\n    const totalElement = document.querySelector('.total-products');\n    try {\n      const response = await pb.collection('products').getFullList();\n      totalElement.textContent = response.totalItems;\n    } catch(err) {\n      console.error(\"Failed to get total products:\", err);\n      return 0;\n    }\n  }\n}\n\n  \n\n//Event Listeners\n// on page load \nwindow.addEventListener(\"DOMContentLoaded\", async () => {\n  await UI.getProducts();\n  UI.getCategoryCount();\n  UI.priceRange();\n  UI.reduceCategoryList();\n  UI.displayUserName();\n});\n\n// add product\nconst addProductBtn = document.getElementById('add-product');\nif (addProductBtn) {\n  addProductBtn.addEventListener('click', (e) => { \n    e.preventDefault();\n    UI.createProduct();\n    const overlay = document.querySelector('.product-form-overlay');\n    if (overlay) overlay.classList.add('active');\n  });\n}\n\n\n// load more product\nconst showMore = document.getElementById('show-more-btn');\nconst showLess = document.getElementById('show-less-btn');\n\nif (showMore) {\n  showMore.addEventListener('click', () => {\n    UI.increaseCategoryList();\n    if (showMore) showMore.style.display = \"none\";\n    if (showLess) showLess.style.display = \"block\";\n  });\n}\n\n// show less product\nif (showLess) {\n  showLess.addEventListener('click', () => {\n    UI.reduceCategoryList();\n    if (showMore) showMore.style.display = \"block\";\n    if (showLess) showLess.style.display = \"none\";\n  });\n}\n\n// logout\nconst logoutBtn = document.querySelector('.log-out');\nif (logoutBtn) {\n  logoutBtn.addEventListener('click', () => {\n    UI.logout();\n  });\n}\n\n// reset filters\nconst reset = document.querySelector('.reset-btn');\nif (reset) {\n  reset.addEventListener('click', () => {\n    UI.resetFilters();\n  });\n}\n\n// search products\nconst searchInput = document.getElementById('search-input');\nif (searchInput) {\n  searchInput.addEventListener('input', (e) => {\n    const query = e.target.value;\n    UI.searchProducts(query);\n  });\n}\n\n// sort products\nUI.filterProductsByPocketBase();\n\n//filter by rating\nconst ratingLabels = document.querySelectorAll('.checkbox-item.rating');\nratingLabels.forEach(label => {\n  const input = label.querySelector('input[type=\"checkbox\"]');\n  input.addEventListener('change', (e) => {\n    if (e.target.checked) {\n      const ratingAttr = label.getAttribute('data-rating');\n      const rating = parseFloat(ratingAttr);\n      UI.filterByRating(rating);\n    } else {\n      UI.filterByRating(0);\n    }\n  });\n})\n\nexport { UI };"]}