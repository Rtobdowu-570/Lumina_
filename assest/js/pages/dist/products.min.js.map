{"version":3,"sources":["products.js"],"names":["_productCard","require","_pocketbase","UI","category","document","querySelectorAll","Array","from","forEach","index","style","display","overlay","createElement","className","card","header","categories","iconSvg","createElementNS","setAttribute","headerContent","iconPath","appendChild","iconDiv","titleDiv","title","textContent","description","remove","closeButton","addEventListener","closeSvg","classList","line1","line2","content","form","nameGroup","nameLabel","nameInput","name","imageGroup","imageLabelOuter","uploadContainer","uploadLabel","uploadSvg","rect","circle","polyline","append","uploadText","uploadSubtext","fileInput","file","categoryGroup","categoryLabel","categorySelect","id","required","defaultOption","option","toLowerCase","row","priceGroup","priceLabel","priceWrapper","priceSymbol","priceInput","quantityGroup","quantityLabel","quantityInput","descGroup","descLabel","optionalSpan","textarea","actions","submitBtn","cancelBtn","type","replace","currentUserId","e","preventDefault","data","value","quantity","formData","console","placeholder","min","page","currentPage","perPage","rows","products","productCard","productsGrid","nextBtn","body","pb","authStore","model","regeneratorRuntime","async","_context","prev","next","image","files","price","FormData","awrap","collection","create","log","t0","details","querySelector","stop","getList","length","getElementById","innerHTML","items","productData","ProductCard","render","rangeMin","rangeMax","inputMax","priceGap","_context3","totalPages","setArea","leftPos","rightPos","error","_context4","this","maxVal","filterProducts","slideMax","minVal","parseInt","sliderMaxValue","minInput","progress","right","inputMin","setMinInput","maxInput","window","location","userName","user","user_name","isAuthenticated","addProduct","cards","getCurrentUser","newest","sort","popular","clear","href","selectedCategories","map","select","cb","dataset","minPrice","cardCategory","parseFloat","categoryMatch","includes","selectedOption","target","maxPrice","query","pbQueries","response","descending","rated","toast","_context6","sent","abrupt","setTimeout","rating","Number","isNaN","cardRating","checkbox","checked","max","checkboxes","lowerQuery","getProducts","priceRange","reduceCategoryList","displayUserName","add","createProduct","showMore","increaseCategoryList","showLess","logout","reset","resetFilters","searchInput","searchProducts","filterProductsByPocketBase","input","label","getAttribute","filterByRating","ratingAttr"],"mappings":"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","file":"products.min.js","sourcesContent":["import { ProductCard } from \"../components/product-card.js\";\nimport { pb,  isAuthenticated, getCurrentUser } from \"../api/pocketbase.js\"\n\nclass UI {\n\n  static reduceCategoryList() {\n  let category = document.querySelectorAll(\".category\");\n  const categories = Array.from(category);\n\n  categories.forEach((category,index) => {\n    if(index >= 10) {\n      category.style.display = \"none\";\n      }\n    })\n  } \n\nstatic async addProduct() {\nconst overlay = document.createElement('div');\noverlay.className = 'product-form-overlay';\n\nconst card = document.createElement('div');\ncard.className = 'product-form-card';\n\nconst header = document.createElement('div');\nheader.className = 'product-form-header';\n\nconst headerContent = document.createElement('div');\nheaderContent.className = 'product-form-header-content';\n\nconst iconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\niconSvg.setAttribute('width', '24');\niconSvg.setAttribute('height', '24');\niconSvg.setAttribute('viewBox', '0 0 24 24');\niconSvg.setAttribute('fill', 'none');\niconSvg.setAttribute('stroke', 'currentColor');\niconSvg.setAttribute('stroke-width', '2');\niconSvg.setAttribute('stroke-linecap', 'round');\niconSvg.setAttribute('stroke-linejoin', 'round');\n\nconst iconPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\niconPath.setAttribute('d', 'M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z');\niconSvg.appendChild(iconPath);\n\nconst iconDiv = document.createElement('div');\niconDiv.className = 'product-form-icon';\niconDiv.appendChild(iconSvg);\n\nconst titleDiv = document.createElement('div');\n\nconst title = document.createElement('h2');\ntitle.className = 'product-form-title';\ntitle.textContent = 'Add New Product';\n\nconst description = document.createElement('p');\ndescription.className = 'product-form-description';\ndescription.textContent = 'Fill in the details to add a product to your store';\n\ntitleDiv.append(title, description);\n\nheaderContent.append(iconDiv, titleDiv);\n\nconst closeButton = document.createElement('button');\ncloseButton.className = 'product-form-close';\ncloseButton.type = 'button';\ncloseButton.setAttribute('aria-label', 'Close');\n\ncloseButton.addEventListener('click', () => {\n    const overlay = document.querySelector('.product-form-overlay');\n    overlay.classList.remove('active');\n  });\n\nconst closeSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\ncloseSvg.setAttribute('width', '24');\ncloseSvg.setAttribute('height', '24');\ncloseSvg.setAttribute('viewBox', '0 0 24 24');\ncloseSvg.setAttribute('fill', 'none');\ncloseSvg.setAttribute('stroke', 'currentColor');\ncloseSvg.setAttribute('stroke-width', '2');\ncloseSvg.setAttribute('stroke-linecap', 'round');\ncloseSvg.setAttribute('stroke-linejoin', 'round');\n\nconst line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\nline1.setAttribute('x1', '18');\nline1.setAttribute('y1', '6');\nline1.setAttribute('x2', '6');\nline1.setAttribute('y2', '18');\n\nconst line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\nline2.setAttribute('x1', '6');\nline2.setAttribute('y1', '6');\nline2.setAttribute('x2', '18');\nline2.setAttribute('y2', '18');\n\ncloseSvg.append(line1, line2);\ncloseButton.appendChild(closeSvg);\n\nheader.append(headerContent, closeButton);\n\nconst content = document.createElement('div');\ncontent.className = 'product-form-content';\n\nconst form = document.createElement('form');\n\nform.className = 'product-form';\nconst nameGroup = document.createElement('div');\nnameGroup.className = 'form-group';\n\nconst nameLabel = document.createElement('label');\nnameLabel.className = 'form-label';\nnameLabel.setAttribute('for', 'productName');\nnameLabel.textContent = 'Product Name';\n\nconst nameInput = document.createElement('input');\nnameInput.type = 'text';\nnameInput.id = 'productName';\nnameInput.className = 'form-input';\nnameInput.placeholder = 'Enter product name';\nnameInput.required = true;\nnameInput.name = 'name';\n\nnameGroup.append(nameLabel, nameInput);\n\nconst imageGroup = document.createElement('div');\nimageGroup.className = 'form-group';\n\nconst imageLabelOuter = document.createElement('label');\nimageLabelOuter.className = 'form-label';\nimageLabelOuter.textContent = 'Product Image';\n\nconst uploadContainer = document.createElement('div');\nuploadContainer.className = 'image-upload-container';\n\nconst uploadLabel = document.createElement('label');\nuploadLabel.className = 'image-upload-label';\n\nconst uploadSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\nuploadSvg.setAttribute('width', '40');\nuploadSvg.setAttribute('height', '40');\nuploadSvg.setAttribute('viewBox', '0 0 24 24');\nuploadSvg.setAttribute('fill', 'none');\nuploadSvg.setAttribute('stroke', 'currentColor');\nuploadSvg.setAttribute('stroke-width', '2');\nuploadSvg.setAttribute('stroke-linecap', 'round');\nuploadSvg.setAttribute('stroke-linejoin', 'round');\n\nconst rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\nrect.setAttribute('x', '3');\nrect.setAttribute('y', '3');\nrect.setAttribute('width', '18');\nrect.setAttribute('height', '18');\nrect.setAttribute('rx', '2');\nrect.setAttribute('ry', '2');\n\nconst circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\ncircle.setAttribute('cx', '8.5');\ncircle.setAttribute('cy', '8.5');\ncircle.setAttribute('r', '1.5');\n\nconst polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');\npolyline.setAttribute('points', '21 15 16 10 5 21');\n\nuploadSvg.append(rect, circle, polyline);\n\nconst uploadText = document.createElement('span');\nuploadText.className = 'upload-text';\nuploadText.textContent = 'Click to upload image';\n\nconst uploadSubtext = document.createElement('span');\nuploadSubtext.className = 'upload-subtext';\nuploadSubtext.textContent = 'PNG, JPG up to 5MB';\n\nconst fileInput = document.createElement('input');\nfileInput.type = 'file';\nfileInput.className = 'hidden-input';\nfileInput.accept = 'image/*';\nfileInput.name = 'image';\n\nfileInput.addEventListener('change', () => {\n  const file = fileInput.files[0];\n   if (file) {\n    uploadText.textContent = file.name;\n    uploadSubtext.textContent = file.size + ' bytes';\n    uploadSvg.style.display = 'none';\n   }\n})\n\nuploadLabel.append(uploadSvg, uploadText, uploadSubtext, fileInput);\nuploadContainer.appendChild(uploadLabel);\nimageGroup.append(imageLabelOuter, uploadContainer);\n\nconst categoryGroup = document.createElement('div');\ncategoryGroup.className = 'form-group';\n\nconst categoryLabel = document.createElement('label');\ncategoryLabel.className = 'form-label';\ncategoryLabel.setAttribute('for', 'category');\ncategoryLabel.textContent = 'Category';\n\nconst categorySelect = document.createElement('select');\ncategorySelect.id = 'category';\ncategorySelect.className = 'form-select';\ncategorySelect.required = true;\ncategorySelect.name = 'category';\n\nconst defaultOption = document.createElement('option');\ndefaultOption.value = '';\ndefaultOption.textContent = 'Select a category';\n\nconst categories = [\n  'Travel & Luggage',\n  'Shoes & Footwear',\n  'Kitchen & Dining',\n  'Tools & Home Improvement',\n  'Musical Instruments',\n  'Arts & Crafts',\n  'Fitness Equipment',\n  'Watches',\n  'Bags & Handbags',\n  'Gardening & Outdoor Living',\n  'Video Games & Consoles',\n  'Eyewear & Sunglasses',\n  'Bedding & Bath',\n  'Camping & Hiking',\n  'Party Supplies',\n  'Appliances',\n  'Mobile Phones & Accessories',\n  'Computers & Laptops',\n  'Lighting & Fans',\n  'Men\\'s Clothing',\n  'Women\\'s Clothing',\n  'Kids\\' Clothing',\n  'Skincare & Makeup',\n  'Vitamins & Supplements',\n  'Cycling & Bikes',\n  'Board Games & Puzzles',\n  'Movies & TV Shows',\n  'Beverages & Drinks',\n  'Pet Food & Treats',\n  'Home Storage & Organization',\n  'Baby Essentials',\n  'Fine Jewelry',\n  'Car Parts & Accessories',\n  'Stationery & School Supplies',\n  'Outdoor Power Equipment',\n  'Electronics',\n  'Fashion & Apparel',\n  'Home & Garden',\n  'Beauty & Personal Care',\n  'Health & Wellness',\n  'Sports & Outdoors',\n  'Toys & Games',\n  'Books & Media',\n  'Food & Grocery',\n  'Pet Supplies',\n  'Furniture & Decor',\n  'Baby & Kids',\n  'Jewelry & Accessories',\n  'Automotive',\n  'Office Supplies'\n];\n\ncategories.forEach((category) => {\n  const option = document.createElement('option');\n  option.value = category.toLowerCase().replace(/ & /g, '-').replace(/[^a-z0-9-]/g, '');\n  option.textContent = category;\n  option.dataset.category = category;\n  categorySelect.appendChild(option);\n});\n\n\ncategorySelect.appendChild(defaultOption); \ncategorySelect.insertBefore(defaultOption, categorySelect.firstChild);\n\ncategoryGroup.append(categoryLabel, categorySelect);\n\nconst row = document.createElement('div');\nrow.className = 'form-row';\n\nconst priceGroup = document.createElement('div');\npriceGroup.className = 'form-group';\n\nconst priceLabel = document.createElement('label');\npriceLabel.className = 'form-label';\npriceLabel.setAttribute('for', 'price');\npriceLabel.textContent = 'Price';\n\nconst priceWrapper = document.createElement('div');\npriceWrapper.className = 'price-input-wrapper';\n\nconst priceSymbol = document.createElement('span');\npriceSymbol.className = 'price-symbol';\npriceSymbol.textContent = '$';\n\nconst priceInput = document.createElement('input');\npriceInput.type = 'number';\npriceInput.id = 'price';\npriceInput.className = 'form-input price-input';\npriceInput.placeholder = '0.00';\npriceInput.step = '0.01';\npriceInput.min = '0';\npriceInput.required = true;\npriceInput.name = 'price';\n\npriceWrapper.append(priceSymbol, priceInput);\npriceGroup.append(priceLabel, priceWrapper);\n\nconst quantityGroup = document.createElement('div');\nquantityGroup.className = 'form-group';\n\nconst quantityLabel = document.createElement('label');\nquantityLabel.className = 'form-label';\nquantityLabel.setAttribute('for', 'quantity');\nquantityLabel.textContent = 'Quantity';\n\nconst quantityInput = document.createElement('input');\nquantityInput.type = 'number';\nquantityInput.id = 'quantity';\nquantityInput.className = 'form-input';\nquantityInput.placeholder = '0';\nquantityInput.min = '0';\nquantityInput.required = true;\nquantityInput.name = 'quantity';\n\nquantityGroup.append(quantityLabel, quantityInput);\n\nrow.append(priceGroup, quantityGroup);\n\nconst descGroup = document.createElement('div');\ndescGroup.className = 'form-group';\n\nconst descLabel = document.createElement('label');\ndescLabel.className = 'form-label';\ndescLabel.setAttribute('for', 'description');\ndescLabel.textContent = 'Description';\n\nconst optionalSpan = document.createElement('span');\noptionalSpan.className = 'optional-text';\noptionalSpan.textContent = '(Optional)';\n\ndescLabel.appendChild(optionalSpan);\n\nconst textarea = document.createElement('textarea');\ntextarea.id = 'description';\ntextarea.className = 'form-textarea';\ntextarea.rows = 4;\ntextarea.placeholder = 'Enter product description...';\ntextarea.name = 'description';\n\ndescGroup.append(descLabel, textarea);\n\nconst actions = document.createElement('div');\nactions.className = 'form-actions';\n\nconst submitBtn = document.createElement('button');\nsubmitBtn.type = 'submit';\nsubmitBtn.className = 'btn-submit';\nsubmitBtn.textContent = 'Add Product';\n\n\nconst cancelBtn = document.createElement('button');\ncancelBtn.type = 'button';\ncancelBtn.className = 'btn-cancel';\ncancelBtn.textContent = 'Cancel';\n\ncancelBtn.addEventListener('click', () => {\n    const overlay = document.querySelector('.product-form-overlay');\n    overlay.classList.remove('active');\n  });\n\nactions.append(submitBtn, cancelBtn);\n\n// Assemble form\nform.append(\n  imageGroup,\n  nameGroup,\n  categoryGroup,\n  row,\n  descGroup,\n  actions\n);\n\ncontent.appendChild(form);\ncard.append(header, content);\noverlay.appendChild(card);\n\ndocument.body.appendChild(overlay);\n\nconst currentUserId = pb.authStore.model.id;\n\n    form.addEventListener('submit', async (e) => {\n      e.preventDefault();\n      const data = {\n        image : fileInput.files[0],\n        name : nameInput.value,\n        category : categorySelect.value,\n        price : priceInput.value,\n        quantity : quantityInput.value,\n        description : textarea.value\n      }\n\n      const formData = new FormData();\n      formData.append('image', data.image);\n      formData.append('name', data.name);\n      formData.append('category', data.category);\n      formData.append('price', data.price);\n      formData.append('quantity', data.quantity);\n      formData.append('description', data.description);\n      formData.append('seller', currentUserId);\n\n      try {\n        await pb.collection('products').create(formData);\n        console.log('Product added successfully');\n      } catch(err) {\n        console.log('ERROR', err.details)\n      }\n\n      const overlay = document.querySelector('.product-form-overlay');\n      overlay.classList.remove('active');\n\n    })\n  }\n\n  static async getProducts() {\n\n    let page = 1;\n    let currentPage = 1;\n    const perPage = 30;\n\n    try {\n            const products = await pb.collection('products').getList(page, perPage, {\n              sort: '-created',\n            });\n            const productsGrid = document.getElementById('products-grid');\n            if (!productsGrid) return;\n\n            if (currentPage === 1) productsGrid.innerHTML = '';\n            products.items.forEach(productData => {\n                const productCard = new ProductCard(productData);\n                productsGrid.appendChild(productCard.render());\n            });\n\n            const nextBtn = document.querySelector('.next');\n            if (page >= products.totalPages) {\n              nextBtn.disabled = true;\n            } else {\n              nextBtn.disabled = false;\n            }\n\n            nextBtn.addEventListener('click', async () => {\n              if (page < products.totalPages) {\n                page++;\n                currentPage++;\n                UI.getProducts();\n              }\n            });\n        } catch (err) {\n            console.error(\"Failed to load products:\", err);\n        }\n  }\n\n  static async loadNextPage() {\n    this.currentPage++;\n    await this.getProducts(this.currentPage);\n  }\n\n  static increaseCategoryList() {\n    let category = document.querySelectorAll(\".category\");\n    const categories = Array.from(category);\n\n  categories.forEach((category, index) => {\n    if(index = categories.length - 1) {\n      category.style.display = \"block\";\n      }\n      else {\n      category.style.display = \"none\";\n    }\n    })\n  }\n\n    static priceRange() {\n    const rangeMin = document.querySelector('.range-min');\n    const rangeMax = document.querySelector('.range-max');\n    const inputMin = document.querySelector('.input-min');\n    const inputMax = document.querySelector('.input-max');\n    const progress = document.querySelector('.price-slider .range-track'); \n\n    const sliderMaxValue = parseInt(rangeMax.max);\n    let priceGap = 1000; \n\n    const setArea = () => {\n        const leftPos = (rangeMin.value / sliderMaxValue) * 100;\n        const rightPos = 100 - (rangeMax.value / sliderMaxValue) * 100;\n        \n        progress.style.left = leftPos + \"%\";\n        progress.style.right = rightPos + \"%\";\n    };\n\n    function slideMin() {\n        let minVal = parseInt(rangeMin.value);\n        let maxVal = parseInt(rangeMax.value);\n\n        if (maxVal - minVal < priceGap) {\n            rangeMin.value = maxVal - priceGap;\n        }\n        inputMin.value = rangeMin.value;\n        setArea();\n        UI.filterProducts();\n    }\n\n    function slideMax() {\n        let minVal = parseInt(rangeMin.value);\n        let maxVal = parseInt(rangeMax.value);\n\n        if (maxVal - minVal < priceGap) {\n            rangeMax.value = minVal + priceGap;\n        }\n        inputMax.value = rangeMax.value;\n        setArea();\n        UI.filterProducts();\n    }\n\n    function setMinInput() {\n        let minInput = parseInt(inputMin.value);\n        if (minInput >= (parseInt(rangeMax.value) - priceGap)) {\n            minInput = parseInt(rangeMax.value) - priceGap;\n            inputMin.value = minInput;\n        }\n        rangeMin.value = minInput;\n        setArea();\n        UI.filterProducts();\n    }\n\n    function setMaxInput() {\n        let maxInput = parseInt(inputMax.value);\n        if (maxInput <= (parseInt(rangeMin.value) + priceGap)) {\n            maxInput = parseInt(rangeMin.value) + priceGap;\n            inputMax.value = maxInput;\n        }\n        rangeMax.value = maxInput;\n        setArea();\n        UI.filterProducts();\n    }\n\n    rangeMin.addEventListener('input', slideMin);\n    rangeMax.addEventListener('input', slideMax);\n    inputMin.addEventListener('change', setMinInput);\n    inputMax.addEventListener('change', setMaxInput);\n\n    setArea();\n}\n\n  static createProduct() {\n    if(isAuthenticated()) {\n      UI.addProduct();\n    } else {\n      window.location.href = '/public/auth/auth.html';\n    }\n  }\n\n  static displayUserName() {\n\n    const user =  getCurrentUser()\n    const userName = document.querySelector('.user-name');\n\n    if (isAuthenticated()) {\n      if(user.name) {\n        userName.textContent = user.name;\n      } else {\n        userName.textContent = user.user_name;\n      }\n    }\n    else {\n      userName.textContent = \"Guest\";\n    }\n  }\n\n  static logout() {\n    pb.authStore.clear(); \n    window.location.href = 'index.html';\n}\n\n\nstatic filterProducts() {\n    const selectedCategories = Array.from(document.querySelectorAll('.category input[type=\"checkbox\"]:checked'))\n      .map(cb => cb.closest('.category').dataset.category);\n    const minPrice = parseInt(document.querySelector('.input-min').value);\n    const maxPrice = parseInt(document.querySelector('.input-max').value);\n    const cards = document.querySelectorAll('.product-cards');\n\n    cards.forEach(card => {\n        const cardCategory = card.dataset.category;\n        const price = parseFloat(card.dataset.price);\n        const categoryMatch = selectedCategories.length === 0 || selectedCategories.includes(cardCategory);\n        const priceMatch = price >= minPrice && price <= maxPrice;\n        card.style.display = categoryMatch && priceMatch ? 'block' : 'none';\n    });\n  }\n\n  static filterProductsByPocketBase() {\n    const pbQueries = {\n      newest: { sort: '-created' },\n      ascending: { sort: '+price' },\n      descending: { sort: '-price' },\n      popular: { sort: '-quantity' },\n      rated: { sort: '-rating' }\n    };\n\n    const select = document.querySelector('.sort-select');\n    if (!select) return;\n    \n    select.addEventListener('change', async (e) => {\n      const selectedOption = e.target.value;\n      const query = pbQueries[selectedOption] || {};\n\n      try{\n        const response = await pb.collection('products').getList(1, 30, query);\n        const productsGrid = document.getElementById('products-grid');\n        if (!productsGrid) return;\n\n        productsGrid.innerHTML = '';\n        response.items.forEach(productData => {\n            const productCard = new ProductCard(productData);\n            productsGrid.appendChild(productCard.render());\n        });\n\n      } catch(err) {\n        console.error(\"Failed to load products:\", err);\n        const productsGrid = document.getElementById('products-grid');\n        productsGrid.innerHTML = '';\n        const toast = document.createElement(\"div\");\n        toast.className = \"toast show\";\n        toast.innerHTML = \"Error loading products. Please try again later.\";\n        document.body.appendChild(toast);\n        setTimeout(() => {\n          toast.remove();\n        }, 2000)\n      }\n  });\n}\n\nstatic filterByRating(rating) {\n  const min = parseFloat(rating);\n    const cards = document.querySelectorAll('.product-cards');\n    if (Number.isNaN(min)) {\n      cards.forEach(card => card.style.display = '');\n      return;\n    }\n\n    cards.forEach(card => {\n        const cardRating = parseFloat(card.dataset.rating) || 0;\n        if(cardRating >= min) {\n            card.style.display = 'block';\n        } else {\n            card.style.display = 'none';\n        }\n    });\n}\n\n  static resetFilters() {\n    const cards = document.querySelectorAll('.product-cards');\n    const checkboxes = document.querySelectorAll('.category input[type=\"checkbox\"]');\n    checkboxes.forEach(checkbox => {\n        checkbox.checked = false;\n    });\n\n    document.querySelector('.input-min').value = document.querySelector('.range-min').min;\n    document.querySelector('.input-max').value = document.querySelector('.range-max').max;\n    document.querySelector('.range-min').value = document.querySelector('.range-min').min;\n    document.querySelector('.range-max').value = document.querySelector('.range-max').max;\n    const progress = document.querySelector('.price-slider .range-track');\n    progress.style.left = \"0%\";\n    progress.style.right = \"0%\";\n\n    cards.forEach(card => {\n        card.style.display = 'block';\n    });\n  }\n\n  // search\n  static searchProducts(query) {\n    const cards = document.querySelectorAll('.product-cards');\n    const lowerQuery = query.toLowerCase();\n\n    cards.forEach(card => {\n        const name = card.dataset.name.toLowerCase();\n        if(name.includes(lowerQuery)) {\n        card.style.display = 'block';\n    } else {\n        card.style.display = 'none';\n        }\n    })\n  }\n}\n\n  \n\n//Event Listeners\n// on page load \nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  UI.getProducts();\n  UI.priceRange();\n  UI.reduceCategoryList();\n  UI.displayUserName();\n});\n\n// add product\ndocument.getElementById('add-product').addEventListener('click', (e) => { \n  e.preventDefault();\n  UI.createProduct()\n  const overlay = document.querySelector('.product-form-overlay');\n  overlay.classList.add('active');\n})\n\n\n// load more product\nconst showMore = document.getElementById('show-more-btn');\nconst showLess = document.getElementById('show-less-btn');\n\nshowMore.addEventListener('click', () => {\n  UI.increaseCategoryList();\n  showMore.style.display = \"none\";\n  showLess.style.display = \"block\";\n})\n\n// show less product\nshowLess.addEventListener('click', () => {\n  UI.reduceCategoryList();\n  showMore.style.display = \"block\";\n  showLess.style.display = \"none\";\n})\n\n// logout\ndocument.querySelector('.log-out').addEventListener('click', () => {\n  UI.logout();\n})\n\n// reset filters\nconst reset = document.querySelector('.reset-btn');\nreset.addEventListener('click', () => {\n  UI.resetFilters();\n})\n\n// search products\nconst searchInput = document.getElementById('search-input');\nsearchInput.addEventListener('input', (e) => {\n  const query = e.target.value;\n  UI.searchProducts(query);\n})\n\n// sort products\nUI.filterProductsByPocketBase();\n\n//filter by rating\nconst ratingLabels = document.querySelectorAll('.checkbox-item.rating');\nratingLabels.forEach(label => {\n  const input = label.querySelector('input[type=\"checkbox\"]');\n  input.addEventListener('change', (e) => {\n    if (e.target.checked) {\n      const ratingAttr = label.getAttribute('data-rating');\n      const rating = parseFloat(ratingAttr);\n      UI.filterByRating(rating);\n    } else {\n      UI.filterByRating(0);\n    }\n  });\n})"]}