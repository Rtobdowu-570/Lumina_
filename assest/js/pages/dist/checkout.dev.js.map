{"version":3,"sources":["checkout.js"],"names":["checkAuth","window","location","href","displayUsername","user","getCurrentUser","userName","document","querySelector","name","textContent","user_name","pb","authStore","model","logOut","clear","addEventListener","logOutBtn","multiTabs","querySelectorAll","forEach","tab","tabType","classList","contains","t","remove","add"],"mappings":";;AAAA;;AAEA,SAASA,SAAT,GAAqB;AACjB,MAAI,CAAC,kCAAL,EAAwB;AACpBC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,wBAAvB;AACH;AACJ;;AAED,SAASC,eAAT,GAA2B;AACvB,MAAMC,IAAI,GAAIC,cAAc,EAA5B;AACA,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB;;AAEA,MAAI,kCAAJ,EAAuB;AACrB,QAAGJ,IAAI,CAACK,IAAR,EAAc;AACZH,MAAAA,QAAQ,CAACI,WAAT,GAAuBN,IAAI,CAACK,IAA5B;AACD,KAFD,MAEO;AACLH,MAAAA,QAAQ,CAACI,WAAT,GAAuBN,IAAI,CAACO,SAA5B;AACD;AACF,GAND,MAOK;AACHL,IAAAA,QAAQ,CAACI,WAAT,GAAuB,OAAvB;AACL;AACA;;AAED,SAASL,cAAT,GAA0B;AACtB,SAAOO,eAAGC,SAAH,CAAaC,KAApB;AACH;;AAED,SAASC,MAAT,GAAkB;AACdH,iBAAGC,SAAH,CAAaG,KAAb;;AACAhB,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACH;;AAEDK,QAAQ,CAACU,gBAAT,CAA0B,kBAA1B,EAA+C,YAAM;AACjDlB,EAAAA,SAAS;AACTI,EAAAA,eAAe;AAClB,CAHD;AAKA,IAAMe,SAAS,GAAGX,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAlB;AACAU,SAAS,CAACD,gBAAV,CAA2B,OAA3B,EAAoC,YAAM;AACtCF,EAAAA,MAAM;AACT,CAFD;AAIA,IAAMI,SAAS,GAAGZ,QAAQ,CAACa,gBAAT,CAA0B,mCAA1B,CAAlB;AACAD,SAAS,CAACE,OAAV,CAAkB,UAAAC,GAAG,EAAI;AACrBA,EAAAA,GAAG,CAACL,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;AAChC,QAAMM,OAAO,GAAGD,GAAG,CAACE,SAAJ,CAAcC,QAAd,CAAuB,gBAAvB,IAA2C,gBAA3C,GAA8D,iBAA9E;AACAlB,IAAAA,QAAQ,CAACa,gBAAT,CAA0B,MAAMG,OAAhC,EAAyCF,OAAzC,CAAiD,UAAAK,CAAC;AAAA,aAAIA,CAAC,CAACF,SAAF,CAAYG,MAAZ,CAAmB,QAAnB,CAAJ;AAAA,KAAlD;AACAL,IAAAA,GAAG,CAACE,SAAJ,CAAcI,GAAd,CAAkB,QAAlB;AACH,GAJD;AAKH,CAND","sourcesContent":["import { pb, isAuthenticated } from '../api/pocketbase.js';\n\nfunction checkAuth() {\n    if (!isAuthenticated()) {\n        window.location.href = '/public/auth/auth.html';\n    }\n}\n\nfunction displayUsername() {\n    const user =  getCurrentUser()\n    const userName = document.querySelector('.user-name');\n\n    if (isAuthenticated()) {\n      if(user.name) {\n        userName.textContent = user.name;\n      } else {\n        userName.textContent = user.user_name;\n      }\n    }\n    else {\n      userName.textContent = \"Guest\";\n}\n}\n\nfunction getCurrentUser() {\n    return pb.authStore.model;\n}\n\nfunction logOut() {\n    pb.authStore.clear(); \n    window.location.href = '/auth/login.html';\n}\n\ndocument.addEventListener('DOMContentLoaded',  () => {\n    checkAuth();\n    displayUsername();\n});\n\nconst logOutBtn = document.querySelector('.log-out');\nlogOutBtn.addEventListener('click', () => {\n    logOut();\n});\n\nconst multiTabs = document.querySelectorAll('.payment-option, .shipping-option');\nmultiTabs.forEach(tab => {\n    tab.addEventListener('click', () => {\n        const tabType = tab.classList.contains('payment-option') ? 'payment-option' : 'shipping-option';\n        document.querySelectorAll('.' + tabType).forEach(t => t.classList.remove('active'));\n        tab.classList.add('active');\n    });\n});"],"file":"checkout.dev.js"}